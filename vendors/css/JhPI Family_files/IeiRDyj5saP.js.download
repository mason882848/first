if (self.CavalryLogger) { CavalryLogger.start_js(["fAIVS"]); }

__d("LinkSelector",["csx","ArbiterMixin","DOM","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l,m,n){"use strict";j.constructor.call(this);this._link=l;this._menu=m;this._input=n;this._label=c("DOM").find(this._link,"._554b");this.init()}k.prototype.init=function(){"use strict";this._menu.subscribe("change",function(l,m){c("DOM").setContent(this._label,m.label);this._input.value=m.value;this.inform("change",m)}.bind(this))};k.prototype.getValue=function(){"use strict";return this._input.value};k.prototype.setValue=function(l){"use strict";this._menu.setValue(l)};f.exports=k}),null);
__d("SavedForLaterChromeExtensionDashNux",["Event","AsyncRequest","XSavedForLaterNUXSeenController","SavedForLaterChromeExtensionInstallLink","TimelineInHouseAppCollections","tidyEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h="impression",i="dismiss",j="save_dashboard",k="chrome_extension_dash_nux";function l(m,n,o){"use strict";this.installInstance=new(c("SavedForLaterChromeExtensionInstallLink"))(n,j);c("tidyEvent")(c("Event").listen(o,"click",function(p){m.remove();this.fireEvent(i)}.bind(this)));this.fireEvent(h)}l.prototype.fireEvent=function(m){"use strict";new(c("AsyncRequest"))(c("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("action",m).setEnum("surface",j).setEnum("mechanism",k).setInt("collection_id",c("TimelineInHouseAppCollections").SAVED_ALL).getURI()).setMethod("POST").send()};f.exports=l}),null);
__d("SavedForLaterCounterContainer",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.counters=new Map()}h.prototype.add=function(i,j){this.counters.set(i,j)};h.prototype.increment=function(){this.counters.forEach(function(i){i.increment()})};h.prototype.decrement=function(){this.counters.forEach(function(i){i.decrement()})};f.exports=h}),null);
__d("SavedForLaterDashboardCollectionIcon.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=20;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.render=function(){if(this.props.src)return c("React").createElement("span",null,c("React").createElement(c("Image.react"),{src:this.props.src,width:k,height:k,className:"_2mwd"}));else if(this.props.firstLetter.length>0)return c("React").createElement("span",{className:"_2mwe"},c("React").createElement("span",{className:"_2mwg"},this.props.firstLetter));return null};f.exports=l}),null);
__d("TimelineAppCollectionAddObjectActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD:"add",HIDE:"hide",MOVE:"move",REMOVE:"remove",UNARCHIVE:"unarchive",UNDO_HIDE:"undo hide",UNDO_MOVE:"undo move",HIGHLIGHT:"highlight"})}),null);
__d("XSaveListCreateDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/save/list/dialog/",{object_id:{type:"FBID"},mechanism:{type:"String"},surface:{type:"String"}})}),null);
__d("SavedForLaterDashboardAddToCollectionButton.react",["ix","cx","fbt","CollectionCurationMechanisms","CollectionsDisplaySurface","SavedForLaterDashboardCollectionIcon.react","fbglyph","Image.react","MenuSeparator","PopoverMenu.react","React","ReactXUIMenu","TimelineAppCollectionAddObjectActions","XSaveListCreateDialogController","XTimelineAppCollectionItemSimpleCurationController","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o)}n.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardAddToCollectionButton1()},c("React").createElement(c("XUIButton.react"),{className:"_2p-o",image:c("React").createElement(c("Image.react"),{src:h("130011")}),label:j._("Add to Collection")}))};n.prototype.$SavedForLaterDashboardAddToCollectionButton1=function(){var o=this.$SavedForLaterDashboardAddToCollectionButton2();if(o.length>0)o.push(c("React").createElement(c("MenuSeparator"),{key:"createListMenuSeparator"}));o.push(this.$SavedForLaterDashboardAddToCollectionButton3());return c("React").createElement(c("ReactXUIMenu"),null,o)};n.prototype.$SavedForLaterDashboardAddToCollectionButton2=function(){return this.props.nonContainingLists.map(function(o){var p=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",o.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").ADD).setEnum("mechanism",c("CollectionCurationMechanisms").ADD_TO_LIST_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setInt("list_id",o.listId).getURI();return c("React").createElement(m,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:o.firstLetter,src:o.imageSource}),href:"#",ajaxify:p,rel:"async-post",key:o.listId,onClick:this.handleAddToCollection.bind(this,o.listId)},o.name)}.bind(this))};n.prototype.$SavedForLaterDashboardAddToCollectionButton3=function(){var o=c("XSaveListCreateDialogController").getURIBuilder().setFBID("object_id",this.props.itemId).setString("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setString("mechanism",c("CollectionCurationMechanisms").ADD_TO_SAVED_LIST_BUTTON).getURI();return c("React").createElement(m,{key:"createListMenuItem",ajaxify:o,rel:"dialog"},j._("Create New Collection"))};n.prototype.handleAddToCollection=function(o){this.props.addItemToList(o)};f.exports=n}),null);
__d("SavedForLaterDashboardDataStore",["CollectionsDisplaySurface","DataStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="constant_save_dashboard",i={setCollectionID:function j(k){c("DataStore").set(h,"collection_id",k)},getCollectionID:function j(){var k=null;if(c("DataStore").get(h,"collection_id"))k=c("DataStore").get(h,"collection_id");return k},setSurface:function j(k){c("DataStore").set(h,"surface",k)},getSurface:function j(){var k=c("CollectionsDisplaySurface").SAVE_DASHBOARD;if(c("DataStore").get(h,"surface"))k=c("DataStore").get(h,"surface");return k}};f.exports=i}),null);
__d("SavedForLaterDashboardClickLogger",["csx","cx","Banzai","CollectionsDisplaySurface","CSS","DOM","DOMQuery","Event","Parent","SavedForLaterDashboardDataStore","guid","tidyEvent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="_5wci",k="_5wcf",l="_4mvy",m="._16xn",n="_16xn",o="_16xq",p="._16xq",q="._5yjp",r={init:function s(t,u,v,w){var x=c("SavedForLaterDashboardDataStore").getSurface();c("tidyEvent")(c("Event").listen(t,"click",function(y){c("Banzai").post(u,{collection_item_id:v,surface:x,mechanism:w,event_id:c("guid")()},{delay:0,retry:true})}))},initForItemConsumption:function s(t){__p&&__p();c("tidyEvent")(c("Event").listen(t,"click",function(u){__p&&__p();var v=c("Parent").bySelector(t,q);c("CSS").addClass(v,l);var w=c("Parent").byClass(t,j),x=c("DOMQuery").scry(w,p);if(x.length>0){var y=x[0];c("CSS").removeClass(y,o);c("CSS").addClass(y,n)}var z=c("Parent").byClass(t,k),A=c("DOMQuery").scry(z,m);if(A.length>0){var B=A[0];c("CSS").removeClass(B,n);c("CSS").addClass(B,o)}var C=new CustomEvent("saveItemConsumed");z.dispatchEvent(C)}))},initForLikeButton:function s(t,u,v,w){c("tidyEvent")(c("Event").listen(t,"click",function(x){var y=c("SavedForLaterDashboardDataStore").getSurface();if(!c("CSS").hasClass(x.target.parentElement,"PageLikedButton"))c("Banzai").post(u,{collection_item_id:v,surface:y,mechanism:w})}))},initBySelector:function s(t,u,v,w,x){var y=c("DOMQuery").scry(t,u);y.forEach(function(z){r.init(z,v,w,x)})},initForSearchButton:function s(t,u,v){var w=c("DOM").find(t,"button");c("tidyEvent")(c("Event").listen(w,"click",function(x){if(x.isRightClick()||x.isMiddleClick())return;var y=c("SavedForLaterDashboardDataStore").getSurface();c("SavedForLaterDashboardDataStore").setSurface(c("CollectionsDisplaySurface").SAVE_SEARCH_DASHBOARD);c("Banzai").post(u,{collection_id:c("SavedForLaterDashboardDataStore").getCollectionID(),surface:y,mechanism:v})}))},initForSettingsButton:function s(t,u,v){c("tidyEvent")(c("Event").listen(t,"click",function(w){if(w.isRightClick()||w.isMiddleClick())return;c("Banzai").post(u,{collection_id:c("SavedForLaterDashboardDataStore").getCollectionID(),surface:c("SavedForLaterDashboardDataStore").getSurface(),mechanism:v})}))}};f.exports=r}),null);
__d("SavedForLaterDashboardHeader",["SavedForLaterCounterContainer","DataStore","DOM","XTimelineAppCollectionItemSimpleCurationController","AsyncRequest","CollectionsDisplaySurface","TimelineAppCollectionAddObjectActions"],(function a(b,c,d,e,f,g){__p&&__p();var h="SavedForLaterItemCounters",i="SavedForLaterDataStoreNamespace";function j(l,m){"use strict";var n=j.getStoredItemCounters();for(var o in m)n.set(o,m[o])}j.getStoredItemCounters=function(){"use strict";return c("DataStore").get(i,h,new Map())};j.addItemCounter=function(l,m,n){"use strict";var o=this.getStoredItemCounters();if(!o.has(l))o.set(l,new(c("SavedForLaterCounterContainer"))());o.get(l).add(n,m)};j.update=function(l,m){"use strict";var n=this.getStoredItemCounters();n.forEach(function(o,p){if(k(l,p))o.increment();if(k(m,p))o.decrement()})};j.updateAndReplace=function(l,m){"use strict";j.update(m.increment,m.decrement);l&&c("DOM").replace(l,m.markup)};j.incrementList=function(l){"use strict";var m=this.getStoredItemCounters();if(m.has(l))m.get(l).increment()};j.decrementList=function(l){"use strict";var m=this.getStoredItemCounters();if(m.has(l))m.get(l).decrement()};j.removeItem=function(l,m,n,o){"use strict";var p=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",n.collection_token).setString("object_id",n.object_id).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").REMOVE).setEnum("mechanism",o).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setBool("confirm",true);j.updateAndReplace(l,m);new(c("AsyncRequest"))(p.getURI()).setServerDialogCancelHandler(function(q){l&&c("DOM").replace(m.markup,l);j.update(m.decrement,[])}).send()};function k(l,m){for(var n=0;n<l.length;n++)if(l[n]==m)return true;return false}f.exports=j}),null);
__d("SavedForLaterDashboardNUX",["cx","DataStore","DOM","Event","Parent","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="saved_for_later_dashboard_nux",j="fb_content";function k(l,m,n){"use strict";this.nuxElement=n;c("tidyEvent")([c("Event").listen(l,"click",this.remove.bind(this)),c("Event").listen(m,"click",this.remove.bind(this))]);var o=c("Parent").byClass(n,j);c("DataStore").set(o,i,this)}k.prototype.remove=function(){"use strict";c("DOM").remove(this.nuxElement)};k.dismiss=function(l){"use strict";var m=c("Parent").byClass(l,j),n=c("DataStore").get(m,i);n&&n.remove()};f.exports=k}),null);
__d("SavedForLaterDashboardHeaderCategoryFilter",["cx","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","LoadingIndicator.react","PageTransitions","React","ReactDOM","SavedForLaterDashboardDataStore","SavedForLaterDashboardNUX","Selector","ge","guid"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="saved_for_later:section_imp",j="_5x-b",k="saved_loading_indicator",l={init:function m(n){this.bindSelectorBehavior(n)},initLinkSelector:function m(n){this.bindSelectorBehavior(n)},bindSelectorBehavior:function m(n){__p&&__p();n.subscribe("change",function(){var o=n.getValue(),p=o.split(":")[2],q=c("ge")("saveContentFragment"),r=c("CollectionsDisplaySurface").SAVE_DASHBOARD;c("SavedForLaterDashboardDataStore").setSurface(r);c("Banzai").post(i,{surface:r,mechanism:c("CollectionCurationMechanisms").SECTION_FILTER_BUTTON,collection_id:p,event_id:c("guid")()},{delay:0,retry:true});c("SavedForLaterDashboardNUX").dismiss(q);var s=c("PageTransitions").getCurrentURI().getUnqualifiedURI(),t=c("PageTransitions").getCurrentURI().getUnqualifiedURI();t.addQueryData({collection_token:o});t.removeQueryData("list_id");c("PageTransitions").rewriteCurrentURI(s,t);c("ReactDOM").render(c("React").createElement("div",{className:j,id:k},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),q)})}};f.exports=l}),null);
__d("XSavedForLaterDashboardFragmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/more/",{collection_token:{type:"String"},cursor:{type:"String"},target_class:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"}})}),null);
__d("SavedForLaterDashboardHeaderItem",["cx","AsyncRequest","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","DOM","Event","guid","LoadingIndicator.react","PageTransitions","React","ReactDOM","SavedForLaterDashboardDataStore","SavedForLaterDashboardNUX","XSavedForLaterDashboardFragmentController","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="saved_for_later:section_imp",j="_5uqu",k="_5x-b",l="saved_loading_indicator",m="_2pjv";function n(o,p,q,r){"use strict";__p&&__p();this.collectionId=q;this.count=r;var s=c("DOM").scry(o,"span."+j);this.headerItemCountElement=null;if(s.length===1)this.headerItemCountElement=s[0];c("tidyEvent")(c("Event").listen(o,"click",function(t){__p&&__p();if(t.isRightClick()||t.isMiddleClick())return;var u=c("DOM").find(document,"div."+m),v=c("CollectionsDisplaySurface").SAVE_DASHBOARD;c("SavedForLaterDashboardDataStore").setCollectionID(q);c("SavedForLaterDashboardDataStore").setSurface(v);c("Banzai").post(i,{surface:v,mechanism:c("CollectionCurationMechanisms").SECTION_BUTTON,collection_id:q,event_id:c("guid")()},{delay:0,retry:true});c("SavedForLaterDashboardNUX").dismiss(u);var w=c("PageTransitions").getCurrentURI().getUnqualifiedURI(),x=c("PageTransitions").getCurrentURI().getUnqualifiedURI();x.addQueryData({collection_token:p});x.removeQueryData("list_id");c("PageTransitions").rewriteCurrentURI(w,x);c("ReactDOM").render(c("React").createElement("div",{className:k,id:l},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),u);var y=c("XSavedForLaterDashboardFragmentController").getURIBuilder();y.setString("collection_token",p);var z=y.getURI();new(c("AsyncRequest"))(z).send();t.preventDefault()}))}n.prototype.getCollectionId=function(){"use strict";return this.collectionId};n.prototype.increment=function(){"use strict";this.$SavedForLaterDashboardHeaderItem1(this.$SavedForLaterDashboardHeaderItem2()+1)};n.prototype.decrement=function(){"use strict";this.$SavedForLaterDashboardHeaderItem1(this.$SavedForLaterDashboardHeaderItem2()-1)};n.prototype.$SavedForLaterDashboardHeaderItem2=function(){"use strict";return this.count};n.prototype.$SavedForLaterDashboardHeaderItem1=function(o){"use strict";if(o<0)o=0;if(this.headerItemCountElement!==null)c("DOM").setContent(this.headerItemCountElement,o);this.count=o};f.exports=n}),null);
__d("SavedForLaterDashboardItemListsManager",["DataStore","SavedForLaterDashboardHeader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="SavedForLaterListsForItem",i="SavedForLaterDataStoreNamespace",j={getListsForAllItems:function k(){return c("DataStore").get(i,h,new Map())},getListsForItem:function k(l){return this.getListsForAllItems().get(l)},setListsForItem:function k(l,m){var n=this.getListsForAllItems();n.set(l,new Set());m.forEach(function(o){n.get(l).add(o)})},removeFromListsForItem:function k(l,m){var n=this.getListsForItem(l);if(n){n["delete"](m);c("SavedForLaterDashboardHeader").decrementList(m)}},addToListsForItem:function k(l,m){var n=this.getListsForItem(l);if(n){n.add(m);c("SavedForLaterDashboardHeader").incrementList(m)}}};f.exports=j}),null);
__d("SavedForLaterDashboardItemTags.react",["cx","fbt","SavedForLaterDashboardCollectionIcon.react","MenuSeparator","MenuStaticItem","PageTransitions","PopoverMenu.react","React","ReactXUIMenu","URI","XUISubNavigationItemsAndNavigationShortcutsHighlighting","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.render=function(){if(this.props.containingLists.length==0)return null;return c("React").createElement("span",{className:"_440n _3vo5"},c("React").createElement(c("XUIText.react"),{className:"_5znp"},"\xb7\xa0",this.$SavedForLaterDashboardItemTags1()))};m.prototype.$SavedForLaterDashboardItemTags1=function(){var n=this.props.containingLists[0];return c("React").createElement("span",{className:"_3a4y"},i._("Saved to"),c("React").createElement("span",{className:"_397o"},c("React").createElement("a",{href:"#",onClick:this.handleTagClick.bind(null,n)},n.name)),this.$SavedForLaterDashboardItemTags2())};m.prototype.$SavedForLaterDashboardItemTags2=function(){var n=this.props.containingLists.slice(1);if(n.length==0)return null;return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardItemTags3()},c("React").createElement("span",{className:"_397o"},c("React").createElement("a",{href:"#"},i._({"*":"+{other collections} more"},[i.param("other collections",n.length,[0])]))))};m.prototype.$SavedForLaterDashboardItemTags3=function(){var n=this.props.containingLists.slice(1),o=this.handleTagClick,p=n.map(function(q){return c("React").createElement(l,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:q.firstLetter,src:q.imageSource}),key:q.listId,onClick:o.bind(null,q)},q.name)});p.unshift(c("React").createElement(c("MenuStaticItem"),{key:"alsoLivesInMenuItem"},i._("Also lives in:")),c("React").createElement(c("MenuSeparator"),{key:"alsoLivesInMenuSeparator"}));return c("React").createElement(c("ReactXUIMenu"),null,p)};m.prototype.handleTagClick=function(n){var o=new(c("URI"))(n.uri);c("PageTransitions").go(o,true);c("XUISubNavigationItemsAndNavigationShortcutsHighlighting").removeHighlightingFromAllItemsExceptForURI(o.toString())};f.exports=m}),null);
__d("SavedForLaterDashboardMoreButton.react",["ix","cx","fbt","AsyncRequest","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","SavedForLaterDashboardCollectionIcon.react","fbglyph","guid","Image.react","MenuSeparator","MenuStaticItem","PopoverMenu.react","React","ReactXUIMenu","TimelineAppCollectionAddObjectActions","XTimelineAppCollectionItemSimpleCurationController","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m="saved_for_later:click",n=c("ReactXUIMenu").Item;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.handleUnsaveItem=function(){this.props.unsaveItem();var q=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",this.props.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").REMOVE).setEnum("mechanism",c("CollectionCurationMechanisms").DELETE_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setBool("confirm",true).getURI();new(c("AsyncRequest"))(q).setServerDialogCancelHandler(this.props.cancelUnsaveItem).send()}.bind(this)}o.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardMoreButton1()},c("React").createElement(c("XUIButton.react"),{className:"_2p-o",image:c("React").createElement(c("Image.react"),{src:h("128601")}),label:j._("more"),labelIsHidden:true}))};o.prototype.$SavedForLaterDashboardMoreButton1=function(){__p&&__p();var p=[];p.push(this.$SavedForLaterDashboardMoreButton2());p.push(c("React").createElement(c("MenuSeparator"),{key:"markAsMenuSeparator"}));var q=this.$SavedForLaterDashboardMoreButton3();if(q.length>0){p.push(c("React").createElement(c("MenuStaticItem"),{key:"removeFromMenuItem"},j._("Remove from:")));p=p.concat(q);p.push(c("React").createElement(c("MenuSeparator"),{key:"unsaveMenuSeparator"}))}p.push(this.$SavedForLaterDashboardMoreButton4());return c("React").createElement(c("ReactXUIMenu"),null,p)};o.prototype.$SavedForLaterDashboardMoreButton2=function(){var p=j._("Mark as unopened");if(this.props.unseen)p=j._("Mark as opened");return c("React").createElement(n,{href:"#",key:"markAsMenuItem",onClick:this.handleMarkAs.bind(this)},p)};o.prototype.$SavedForLaterDashboardMoreButton3=function(){return this.props.containingLists.map(function(p){var q=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",p.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").REMOVE).setEnum("mechanism",c("CollectionCurationMechanisms").REMOVE_FROM_SAVED_LIST_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setInt("list_id",p.listId).getURI();return c("React").createElement(n,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:p.firstLetter,src:p.imageSource}),href:"#",ajaxify:q,rel:"async-post",key:p.listId,onClick:this.handleRemoveFromCollection.bind(this,p.listId)},p.name)}.bind(this))};o.prototype.$SavedForLaterDashboardMoreButton4=function(){return c("React").createElement(n,{href:"#",key:"unsaveMenuItem",onClick:this.handleUnsaveItem},j._("Unsave"))};o.prototype.handleMarkAs=function(p){var q=c("CollectionCurationMechanisms").MARK_AS_UNSEEN_BUTTON;if(this.props.unseen)q=c("CollectionCurationMechanisms").MARK_AS_SEEN_BUTTON;c("Banzai").post(m,{collection_item_id:this.props.collectionItemId,surface:c("CollectionsDisplaySurface").SAVE_DASHBOARD,mechanism:q,event_id:c("guid")()},{delay:0,retry:true});this.props.toggleSeenStatus()};o.prototype.handleRemoveFromCollection=function(p){this.props.removeItemFromList(p)};f.exports=o}),null);
__d("SavedForLaterDashboardItemActionButtonManager.react",["ix","cx","$","CSS","fbglyph","Image.react","React","ReactDOM","SavedForLaterDashboardItemListsManager","SavedForLaterDashboardAddToCollectionButton.react","SavedForLaterDashboardItemTags.react","SavedForLaterDashboardMoreButton.react","TimelineInHouseAppCollections","XUICardSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("TimelineInHouseAppCollections").SAVED_ALL.toString();j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={belongsToList:this.$SavedForLaterDashboardItemActionButtonManager1(),unseen:this.props.unseen,removed:false},this.$SavedForLaterDashboardItemActionButtonManager3=function(s){this.setState(function(t,u){var v=new Map(t.belongsToList);v.set(s,true);return{belongsToList:v}});c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,s)}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager4=function(s){this.setState(function(t,u){var v=new Map(t.belongsToList);v.set(s,false);return{belongsToList:v}});c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,s)}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager5=function(){this.setState(function(s,t){return{unseen:!s.unseen}})}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager7=function(){__p&&__p();var s=this.$SavedForLaterDashboardItemActionButtonManager2(true);for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,x.listId)}c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,l);this.$SavedForLaterDashboardItemActionButtonManager9()}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager6=function(){__p&&__p();var s=this.$SavedForLaterDashboardItemActionButtonManager2(true);for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,x.listId)}c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,l);this.$SavedForLaterDashboardItemActionButtonManager9()}.bind(this),o}m.prototype.$SavedForLaterDashboardItemActionButtonManager1=function(){__p&&__p();var n=new Map();for(var o=this.props.savedLists,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.set(s.listId,false)}for(var t=this.props.containingLists,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;n.set(x,true)}return n};m.prototype.render=function(){var n=this.$SavedForLaterDashboardItemActionButtonManager2(true),o=this.$SavedForLaterDashboardItemActionButtonManager2(false),p=c("$")("saved-seen-indicator-"+this.props.itemId),q=c("$")("saved-more-button-"+this.props.itemId),r=c("$")("saved-add-button-"+this.props.itemId),s=c("$")("saved-item-tags-"+this.props.itemId);return c("React").createElement(c("XUICardSection.react"),null,c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardItemTags.react"),{containingLists:n}),s),c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardAddToCollectionButton.react"),{nonContainingLists:o,addItemToList:this.$SavedForLaterDashboardItemActionButtonManager3,itemId:this.props.itemId}),r),c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardMoreButton.react"),{containingLists:n,removeItemFromList:this.$SavedForLaterDashboardItemActionButtonManager4,toggleSeenStatus:this.$SavedForLaterDashboardItemActionButtonManager5,collectionItemId:this.props.collectionItemId,collectionToken:this.props.collectionToken,cancelUnsaveItem:this.$SavedForLaterDashboardItemActionButtonManager6,unsaveItem:this.$SavedForLaterDashboardItemActionButtonManager7,itemId:this.props.itemId,unseen:this.state.unseen}),q),c("ReactDOM").createPortal(this.$SavedForLaterDashboardItemActionButtonManager8(),p))};m.prototype.$SavedForLaterDashboardItemActionButtonManager8=function(){if(this.state.unseen)return c("React").createElement(c("Image.react"),{className:"_4trz",src:h("115777")});return null};m.prototype.$SavedForLaterDashboardItemActionButtonManager2=function(n){return this.props.savedLists.filter(function(o){return n==this.state.belongsToList.get(o.listId)}.bind(this))};m.prototype.$SavedForLaterDashboardItemActionButtonManager9=function(){__p&&__p();var n=c("$")("item-"+this.props.itemId),o=c("$")("removed-item-"+this.props.itemId);if(this.state.removed){c("CSS").removeClass(n,"hidden_elem");c("CSS").addClass(o,"hidden_elem")}else{c("CSS").removeClass(o,"hidden_elem");c("CSS").addClass(n,"hidden_elem")}this.setState(function(p,q){return{removed:!p.removed}})};f.exports=m}),null);
__d("SavedForLaterDashboardMoreButton",["csx","cx","fbt","Banzai","CollectionsDisplaySurface","CollectionCurationMechanisms","DOMQuery","Parent","SavedForLaterDashboardHeader","Event","CSS","React","ReactDOM","SavedForLaterDashboardItemListsManager","guid","tidyEvent"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k="archive",l="unarchive",m="remove",n="remove_with_confirm",o="add_to_list",p="_2iv7",q="_5wcf",r="._5yjp",s="_4mvy",t="._3a4y",u="._3a4x",v="saved_for_later:click";function w(x,y,z,A,B,C,D){"use strict";__p&&__p();var E=c("Parent").byClass(x,q);c("tidyEvent")(c("Event").listen(E,"saveItemConsumed",function(F){w.updateSeenState(y,c("CollectionCurationMechanisms").MARK_AS_SEEN_BUTTON)}));c("tidyEvent")(y.subscribe("itemclick",function(F,G){__p&&__p();var E=c("Parent").byClass(x,q);if(E==null)return;var H=G.item.getValue();if(H==k)c("SavedForLaterDashboardHeader").updateAndReplace(E,z);else if(H==l)c("SavedForLaterDashboardHeader").updateAndReplace(E,A);else if(H==m)c("SavedForLaterDashboardHeader").updateAndReplace(E,B);else if(H==n){if(D)c("SavedForLaterDashboardHeader").removeItem(E,B,D,c("CollectionCurationMechanisms").DELETE_BUTTON)}else if(H){var I=H.split(","),J=I[0];if(J==o){var K=I[1];if(D)c("SavedForLaterDashboardItemListsManager").addToListsForItem(D.object_id,K);var L=G.item.getLabel(),M;if(D)M=D.list_count==null?null:++D.list_count;w.updateSubtitle(E,L,M);y.removeItem(G.item)}else if(J==c("CollectionCurationMechanisms").MARK_AS_SEEN_BUTTON||J==c("CollectionCurationMechanisms").MARK_AS_UNSEEN_BUTTON){c("Banzai").post(v,{collection_item_id:I[1],surface:c("CollectionsDisplaySurface").SAVE_DASHBOARD,mechanism:J,event_id:c("guid")()},{delay:0,retry:true});var N=c("DOMQuery").find(E,r);if(J==c("CollectionCurationMechanisms").MARK_AS_SEEN_BUTTON)c("CSS").addClass(N,s);else c("CSS").removeClass(N,s);w.updateSeenState(y,J)}}}))}w.updateSeenState=function(x,y){"use strict";var z=x.getRoot();if(y==c("CollectionCurationMechanisms").MARK_AS_UNSEEN_BUTTON)c("CSS").removeClass(z,p);else c("CSS").addClass(z,p)};w.updateSubtitle=function(x,y,z){"use strict";__p&&__p();if(z==null)return;z--;if(z===0){var A=c("DOMQuery").scry(x,t);if(A&&A.length>0)c("ReactDOM").render(c("React").createElement("span",null," \xb7 ",c("React").createElement("span",{className:"_3a4x"},j._("Saved to {collection_name}",[j.param("collection_name",c("React").createElement("span",{className:"_440l"},y))]))),A[0])}else{var B=c("DOMQuery").scry(x,u);if(B&&B.length>0)c("ReactDOM").render(c("React").createElement("span",null,j._("Saved to {collection_name}",[j.param("collection_name",c("React").createElement("span",{className:"_440l"},y))])," ",c("React").createElement("span",{className:"_440l"},j._({"*":"+{number} others","_1":"+1 other"},[j.plural(z,"number")]))),B[0])}};f.exports=w}),null);
__d("SavedForLaterDashboardOptInNUX",["AsyncRequest","DOM"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";i.setDismissHandler(function(){c("DOM").remove(i.getRoot());i.destroy();new(c("AsyncRequest"))(j).send()})}f.exports=h}),null);
__d("SavedForLaterDashboardRemoveButton",["cx","Event","Parent","SavedForLaterDashboardHeader","CollectionCurationMechanisms","SavedForLaterDashboardItemListsManager","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="_5wcf";function j(k,l,m){"use strict";c("tidyEvent")(c("Event").listen(k,"click",function(n){var o=c("Parent").byClass(k,i);if(o){var p=c("SavedForLaterDashboardItemListsManager").getListsForItem(m.object_id);if(p)l.decrement=Array.from(p);c("SavedForLaterDashboardHeader").removeItem(o,l,m,c("CollectionCurationMechanisms").XOUT_BUTTON)}}))}f.exports=j}),null);
__d("SavedForLaterDashboardSearch",["cx","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","DOM","Event","LoadingIndicator.react","PageTransitions","React","ReactDOM","SavedForLaterDashboardDataStore","tidyEvent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="_5x-b",j="saved_loading_indicator",k="_2pjv",l={init:function m(n,o){__p&&__p();var p=c("DOM").find(n,"button");c("tidyEvent")(c("Event").listen(p,"click",function(q){__p&&__p();var r=o.trim();if(q.isRightClick()||q.isMiddleClick()||r.length==0)return;var s=c("PageTransitions").getCurrentURI().getUnqualifiedURI(),t=c("PageTransitions").getCurrentURI().getUnqualifiedURI();t.setQueryData({});if(o!==null)t.addQueryData({search_token:o});if(Object.prototype.hasOwnProperty.call(s.getQueryData(),"collection_token")){var u=s.getQueryData().collection_token;t.addQueryData({collection_token:u})}c("PageTransitions").rewriteCurrentURI(s,t);var v=c("DOM").find(document,"div."+k);c("ReactDOM").render(c("React").createElement("div",{className:i,id:j},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),v)}))},initForSeeAllButton:function m(n,o){c("tidyEvent")(c("Event").listen(n,"click",function(p){if(p.isRightClick()||p.isMiddleClick())return;c("Banzai").post(o,{collection_id:c("SavedForLaterDashboardDataStore").getCollectionID(),surface:c("CollectionsDisplaySurface").SAVE_SEARCH_DASHBOARD,mechanism:c("CollectionCurationMechanisms").SEE_ALL_BUTTON});var q=c("DOM").find(document,"div."+k);c("ReactDOM").render(c("React").createElement("div",{className:i,id:j},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),q)}))}};f.exports=l}),null);
__d("XSavedForLaterDashboardSettingsModuleController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/settings/",{})}),null);
__d("SavedForLaterDashboardSettingsModule",["cx","AsyncRequest","CollectionsDisplaySurface","DOM","Event","LoadingIndicator.react","PageTransitions","React","ReactDOM","SavedForLaterDashboardDataStore","XSavedForLaterDashboardSettingsModuleController","ge","tidyEvent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="_3-i6",j="_3-i7",k="_5x-b",l="saved_loading_indicator",m="_2pjv",n="_1hqh",o={init:function p(q,r){__p&&__p();c("tidyEvent")(c("Event").listen(q,"click",function(s){__p&&__p();if(s.isRightClick()||s.isMiddleClick())return;var t=c("ge")(i),u=c("DOM").scry(t,"li."+n)[0];u.firstChild.setAttribute("class",j);c("SavedForLaterDashboardDataStore").setCollectionID(r);c("SavedForLaterDashboardDataStore").setSurface(c("CollectionsDisplaySurface").SAVE_SETTINGS_DASHBOARD);var v=c("PageTransitions").getCurrentURI().getUnqualifiedURI(),w=c("PageTransitions").getCurrentURI().getUnqualifiedURI();w.setQueryData({});c("PageTransitions").rewriteCurrentURI(v,w);var x=c("DOM").find(document,"div."+m);c("ReactDOM").render(c("React").createElement("div",{className:k,id:l},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),x);var y=c("XSavedForLaterDashboardSettingsModuleController").getURIBuilder().getURI();new(c("AsyncRequest"))(y).send()}))}};f.exports=o}),null);
__d("SavedForLaterDashboardSidebarSearch",["XUISubNavigationItemsAndNavigationShortcutsHighlighting","Event"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){c("Event").listen(i,"submit",c("XUISubNavigationItemsAndNavigationShortcutsHighlighting").removeHighlightingFromAllItemsExceptForURI.bind(j))}f.exports=h}),null);
__d("SavedForLaterDashboardTopLevelArchiveButton",["cx","DOM","Event","Parent","SavedForLaterDashboardHeader","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="_5wcf";function j(k,l){"use strict";c("tidyEvent")(c("Event").listen(k,"click",function(m){var n=c("Parent").byClass(k,i);if(n){c("SavedForLaterDashboardHeader").update(l.increment,l.decrement);n&&c("DOM").replace(n,l.markup)}}))}f.exports=j}),null);
__d("SavedForLaterDashboardTopLevelRemoveButton",["cx","CollectionCurationMechanisms","Event","Parent","SavedForLaterDashboardHeader","SavedForLaterDashboardItemListsManager","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="_5wcf";function j(k,l,m){"use strict";__p&&__p();c("tidyEvent")(c("Event").listen(k,"click",function(n){var o=c("Parent").byClass(k,i);if(o)if(l.mechanism==c("CollectionCurationMechanisms").DELETE_BUTTON){var p=c("SavedForLaterDashboardItemListsManager").getListsForItem(m.object_id);if(p)l.decrement=Array.from(p);c("SavedForLaterDashboardHeader").removeItem(o,l,m,l.mechanism)}else c("SavedForLaterDashboardHeader").updateAndReplace(o,l)}))}f.exports=j}),null);
__d("SavedForLaterHeaderCollectionCounter",["fbt","SavedForLaterDashboardHeader","DOM"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="savedForLaterCollectionHeader";function j(k,l,m){this.itemCounterContainer=k;this.listId=l.toString();this.count=m;c("SavedForLaterDashboardHeader").addItemCounter(this.listId,this,i)}j.prototype.getListId=function(){return this.listId};j.prototype.increment=function(){this.$SavedForLaterHeaderCollectionCounter1(this.$SavedForLaterHeaderCollectionCounter2()+1)};j.prototype.decrement=function(){this.$SavedForLaterHeaderCollectionCounter1(this.$SavedForLaterHeaderCollectionCounter2()-1)};j.prototype.$SavedForLaterHeaderCollectionCounter2=function(){return this.count};j.prototype.$SavedForLaterHeaderCollectionCounter1=function(k){if(k<0)k=0;var l=h._({"*":"{number} items","_1":"1 item"},[h.plural(k,"number")]);c("DOM").setContent(this.itemCounterContainer,l);this.count=k};f.exports=j}),null);
__d("SavedForLaterSidebarBadgeAccesory",["SavedForLaterDashboardHeader","CSS","DOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="savedForLaterSidebarCounter";function i(j,k,l,m){this.sidebarBadgeAccessory=j;this.maxCount=m;this.listId=k.toString();this.count=l;c("SavedForLaterDashboardHeader").addItemCounter(this.listId,this,h)}i.prototype.getListId=function(){return this.listId};i.prototype.increment=function(){this.$SavedForLaterSidebarBadgeAccesory1(this.$SavedForLaterSidebarBadgeAccesory2()+1)};i.prototype.decrement=function(){this.$SavedForLaterSidebarBadgeAccesory1(this.$SavedForLaterSidebarBadgeAccesory2()-1)};i.prototype.$SavedForLaterSidebarBadgeAccesory2=function(){return this.count};i.prototype.$SavedForLaterSidebarBadgeAccesory1=function(j){if(j<0)j=0;if(j<=0)c("CSS").addClass(this.sidebarBadgeAccessory,"hidden_elem");else c("CSS").removeClass(this.sidebarBadgeAccessory,"hidden_elem");if(j<=this.maxCount)c("DOM").setContent(this.sidebarBadgeAccessory,j);else c("DOM").setContent(this.sidebarBadgeAccessory,this.maxCount+"+");this.count=j};f.exports=i}),null);