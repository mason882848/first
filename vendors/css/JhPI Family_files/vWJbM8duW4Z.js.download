if (self.CavalryLogger) { CavalryLogger.start_js(["KY\/UJ"]); }

__d("CatalogVertical",[],(function a(b,c,d,e,f,g){f.exports={AUTO_OFFERS:"auto_offers",COMMERCE:"commerce",DESTINATIONS:"destinations",FLIGHTS:"flights",HOME_LISTINGS:"home_listings",HOME_SERVICE_PROVIDERS:"home_service_providers",HOTELS:"hotels",TEST_VERTICAL:"test_vertical",VEHICLE_OFFERS:"vehicle_offers",VEHICLES:"vehicles",NONE:"none"}}),null);
__d("ComposerPublisherSupportedParameters",[],(function a(b,c,d,e,f,g){f.exports=["action_type_id","animated_image","attachment","backdated_date","charity_id","composer_attachment_sell_condition","composer_attachment_sell_currency","composer_attachment_sell_location_page_id","composer_attachment_sell_price","composer_attachment_sell_pickup_note","composer_attachment_sell_title","composer_custom_accessibility_caption","composer_entry_time","composer_has_crop","composer_has_filter","composer_session_duration","composer_session_id","composer_source_surface","composer_unpublished_photo","composer_sticker","composer_text_overlay","composer_type","composertags_city","composertags_place","composertags_place_name","composertags_sponsors","composertags_with","direct_share_status","draft","event_tag","extensible_sprouts_ranker_request","fun_fact_prompt_id","hide_object_attachment","holiday_card","icon_id","is_ad_post","is_forced_reshare_of_post","is_markdown","is_placelist_post","is_q_and_a","is_react","is_welcome_to_group_post","multilingual_specified_lang","multilingual_status_langs","multilingual_statuses","num_keystrokes","num_pastes","object_id","object_str","og_suggestion_mechanism","page_recommendation_ids","place_attachment_setting","place_list_entry_point","placelist_within_page","poll_question_data","privacyx","qn","ref","sponsor_relationship","scheduled","scheduled_publish_time","share_dialog_actorId","share_dialog_audienceType","share_dialog_composerSessionID","share_dialog_message","share_dialog_privacy","story_list_attachment_data","target_type","text_format_preset_id","unpublished_content_type","xc_link_url","xc_sticker_id","xc_share_images","xc_share_params","xc_share_summary","xc_share_target_type","xc_share_title","xhpc_aggregated_story_composer","xhpc_composerid","xhpc_context","xhpc_finch","xhpc_fundraiser_page","xhpc_message","xhpc_message_text","xhpc_publish_type","xhpc_targetid","xhpc_timeline","xy_tags"]}),null);
__d("CatalogItemPriceTemplateOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CURRENCY_CODE:"currency_code",RAW:"raw",ROUND:"round",STRIP_ZEROS:"strip_zeros"})}),null);
__d("DynamicTemplateValueTransformers",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TITLEIZE:"titleize",URL_ENCODE:"urlencode",NUMBER_FORMAT:"number_format",TO_CURRENCY_SYMBOL:"to_currency_symbol"})}),null);
__d("AdsTokensConstants",["fbt","CatalogItemPriceTemplateOptions","DynamicTemplateValueTransformers","Map"],(function a(b,c,d,e,f,g,h){"use strict";var i={NAMESPACES:{PRODUCT:"product",PAGE:"page",HOTEL:"hotel",TRIP:"trip"},DATE_FORMAT_TRANSFORMERS:{PROPERTY:"date_format_transformers",FORMATS:[{PROPERTY:"date_format:d/m/Y",TEXT:h._("DD\/MM\/YYYY")},{PROPERTY:"date_format:m/d/Y",TEXT:h._("MM\/DD\/YYYY")},{PROPERTY:"date_format:Ymd",TEXT:h._("YYYYMMDD")},{PROPERTY:"date_format:Y-m-d",TEXT:h._("YYYY-MM-DD")},{PROPERTY:"date_format:d-M-Y",TEXT:h._("DD-MM-YYYY")}]},CURRENCY_FORMAT_OPTIONS:{PROPERTY:"currency_format_options",DEFAULT_PROPERTY:"",DEFAULT_TEXT:h._("No Currency Code"),FORMATS:[{PROPERTY:c("CatalogItemPriceTemplateOptions").CURRENCY_CODE+" "+c("CatalogItemPriceTemplateOptions").RAW,TEXT:h._("Show Currency Code")}]},URL_ENCODE_TRANSFORMERS:{PROPERTY:"url_encode_transformers",ENCODED:{PROPERTY:c("DynamicTemplateValueTransformers").URL_ENCODE,TEXT:h._("URL encode")}},FORMAT_TRANSFORMERS:{PROPERTY:"format_transformers",DEFAULT_PROPERTY:"",DEFAULT_FIELDS:new(c("Map"))([["product",h._("Use catalog format")],["page",h._("Use page format")],["hotel",h._("Use Source format")],["trip",h._("Use Source format")]]),TITLE_CASE:{PROPERTY:c("DynamicTemplateValueTransformers").TITLEIZE,TEXT:h._("Title Case")}},NUMBER_OPTIONS:{STRIP_ZEROS:{DEFAULT_PROPERTY:"strip_zeros",PROPERTY:"strip_zeros",TEXT:h._("Show As Whole Number")}}};f.exports=i}),null);
__d("AdsCollectionsConstants",["AdsTokensConstants","CatalogVertical"],(function a(b,c,d,e,f,g){"use strict";var h={COLLECTION_PRODUCT_MAX_COUNT:50,EMPTY_COLLECTIONS_RETAIL_ID:["0","0","0","0"],HERO_IMAGE_DIM_191_100:1.91,SUPPORTED_VERTICALS:[c("CatalogVertical").COMMERCE,c("CatalogVertical").HOTELS],POST_CLICK_FIELD_HIDE:"{{field.hide}}",POST_CLICK_ITEM_DEFAULT_HEADLINE_TEMPLATE:"{{product.name}}",POST_CLICK_ITEM_DEFAULT_DESCRIPTION_TEMPLATE:"{{product.current_price "+c("AdsTokensConstants").NUMBER_OPTIONS.STRIP_ZEROS.PROPERTY+"}}",SUPPORTED_PLACEMENT_GROUPS:["facebook/feeds"],UNSUPPORTED_PLACEMENT_GROUPS:["facebook/display","facebook/groups","facebook/instantarticles","facebook/instream_videos","facebook/suggested_videos"],UNSUPPORTED_PLACEMENT_PLATFORMS:["instagram","audience_network","messenger"]};f.exports=h}),null);
__d("update",["fbjs/lib/invariant"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={}.hasOwnProperty;function i(t){if(Array.isArray(t))return t.concat();else if(t&&typeof t==="object")return Object.assign(new t.constructor(),t);else return t}var j="$push",k="$unshift",l="$splice",m="$set",n="$merge",o="$apply",p=[j,k,l,m,n,o],q={};p.forEach(function(t){q[t]=true});function r(t,u,v){Array.isArray(t)||c("fbjs/lib/invariant")(0);var w=u[v];Array.isArray(w)||c("fbjs/lib/invariant")(0)}function s(t,u){__p&&__p();typeof u==="object"||c("fbjs/lib/invariant")(0);if(h.call(u,m)){Object.keys(u).length===1||c("fbjs/lib/invariant")(0);return u[m]}var v=i(t);if(h.call(u,n)){var w=u[n];w&&typeof w==="object"||c("fbjs/lib/invariant")(0);v&&typeof v==="object"||c("fbjs/lib/invariant")(0);Object.assign(v,u[n])}if(h.call(u,j)){r(t,u,j);u[j].forEach(function(y){v.push(y)})}if(h.call(u,k)){r(t,u,k);u[k].forEach(function(y){v.unshift(y)})}if(h.call(u,l)){Array.isArray(t)||c("fbjs/lib/invariant")(0);Array.isArray(u[l])||c("fbjs/lib/invariant")(0);u[l].forEach(function(y){Array.isArray(y)||c("fbjs/lib/invariant")(0);v.splice.apply(v,y)})}if(h.call(u,o)){typeof u[o]==="function"||c("fbjs/lib/invariant")(0);v=u[o](v)}for(var x in u)if(!(Object.prototype.hasOwnProperty.call(q,x)&&q[x]))v[x]=s(t[x],u[x]);return v}f.exports=s}),null);
__d("XUITypeahead.react",["cx","AbstractTypeahead.react","Image.react","React","SearchableEntry","XUICloseButton.react","XUIError.react","XUITypeaheadTextOnlyView.react","XUITypeaheadView.react","joinClasses","update"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l={ViewRenderer:c("XUITypeaheadView.react"),useLayer:true},m={ViewRenderer:c("XUITypeaheadView.react"),useLayer:false},n={ViewRenderer:c("XUITypeaheadTextOnlyView.react"),useLayer:true},o=babelHelpers["extends"]({},l,{extraRendererProps:{scrolled:true}});i=babelHelpers.inherits(p,c("React").Component);j=i&&i.prototype;function p(){var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$XUITypeahead1=function(){this.props.onClear();setTimeout(function(){return this.focusInput()}.bind(this),0)}.bind(this),r}p.prototype.componentWillMount=function(){"use strict"};p.prototype.focusInput=function(){"use strict";this.refs.typeahead&&this.refs.typeahead.focusInput()};p.prototype.blurInput=function(){"use strict";this.refs.typeahead&&this.refs.typeahead.blurInput()};p.prototype.hideView=function(){"use strict";this.refs.typeahead.hideView()};p.prototype.getTextFieldDOM=function(){"use strict";return this.refs.typeahead.getTextFieldDOM()};p.prototype.render=function(){"use strict";__p&&__p();var q=c("joinClasses")(this.props.inputClassName,"_55r1"+(!!this.props.tallInput?" _55r2":"")+(!!this.props.largeText?" _3qze":"")),r=null;if(this.props.presenter)r=this.props.presenter;else if(this.props.viewStyle=="rich")r=l;else if(this.props.viewStyle=="richNoLayer")r=m;else if(this.props.viewStyle=="scrolled")r=o;else r=n;if(!this.props.presenter&&this.props.maxEntries)r=c("update")(r,{maxEntries:{$set:this.props.maxEntries}});if(this.props.photoBackgroundSize)r.ViewRenderer.defaultProps.backgroundSize=this.props.photoBackgroundSize;if(this.props.photoWidth)r.ViewRenderer.defaultProps.photoWidth=this.props.photoWidth;if(this.props.photoHeight)r.ViewRenderer.defaultProps.photoHeight=this.props.photoHeight;var s=this.props.showPhoto&&this.props.selectedEntry?c("React").createElement(c("Image.react"),{className:"_wrl",src:this.props.selectedEntry.getPhoto()}):null,t=this.props.clearable?c("React").createElement(c("XUICloseButton.react"),{className:"_wrm"+(this.props.disabled||!this.props.queryString&&!this.props.selectedEntry?" hidden_elem":""),size:this.props.tallInput?"medium":"small",type:"button",onClick:this.$XUITypeahead1}):null,u=this.props,v=u.className,w=babelHelpers.objectWithoutProperties(u,["className"]);return c("React").createElement(c("XUIError.react"),this.props,c("React").createElement("span",{className:c("joinClasses")("_wrn"+(!!this.props.tallInput?" _213j":"")+(!!t?" _4ehf":"")+(!!s?" _4ehg":"")+(!!this.props.queryString?" _4in7":"")+(this.props.highlightOnSelect&&this.props.selectedEntry?" _wrr":""),v)},s,c("React").createElement(c("AbstractTypeahead.react"),babelHelpers["extends"]({},w,{inputClassName:q,ref:"typeahead",presenter:r,textInputDataTestID:this.props.textInputDataTestID})),t))};p.propTypes=babelHelpers["extends"]({excludedEntries:k.object,maxEntries:k.number,onChange:k.func.isRequired,onSelectAttempt:k.func.isRequired,onEnterWithoutSelection:k.func,onEntriesFound:k.func,onNoEntriesFound:k.func,selectedEntry:k.instanceOf(c("SearchableEntry")),tallInput:k.bool,viewStyle:k.oneOf(["textonly","rich","richNoLayer","scrolled"]),clearable:k.bool,onClear:k.func,showPhoto:k.bool,textInputDataTestID:k.string,highlightOnSelect:k.bool,presenter:k.object,inputID:k.string,showSelection:k.bool,largeText:k.bool,photoBackgroundSize:k.string,photoWidth:k.number,photoHeight:k.number},c("XUIError.react").propTypes);p.defaultProps={viewStyle:"rich"};f.exports=p}),null);
__d("AudienceTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OWN:"self",PERSON:"friend",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",MESSAGE:"message"})}),null);
__d("ComposerPublishType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5})}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1931212663571278"};j.getQueryID=function(){"use strict";return"576284395828557"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ComposerStoryEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1396480790477967"};j.getQueryID=function(){"use strict";return"1942851846033412"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("OGComposerSuggestionMechanisms",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"})}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2})}),null);
__d("PlaceRecommendationEntrypoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHEVRON:"chevron",COMMENT:"comment",COMPARISON_CARD:"comparison_card",INTERACTIVE_STORY_CARD:"interactive_story_card",BOOKMARK:"bookmark",GROUP_COMPOSER:"group_composer",GROUP_TAB_COMPOSER:"group_tab_composer",SPROUT:"sprout",POST_UPSELL:"post_upsell",LEARN:"learn",PAST_REX:"past_rex",PLACE_PICKER:"place_picker",REX_BUTTON:"rex_button",UPSELL_CTA:"upsell_CTA",CITY_GUIDES:"city_guides",GROUP_COMPOSER_ACTION_BUTTON:"group_composer_action_button",FOLLOW_UP_UNIT_SHARE_NOW:"follow_up_unit_share_now",FOLLOW_UP_UNIT_EDIT_POST:"follow_up_unit_edit_post",FEED_UPSELL:"feed_upsell",FEED_IMPLICIT_UPSELL:"feed_implicit_upsell",FULL_MAP:"full_map",FULL_MAP_FEED_ATTACHMENT:"full_map_feed_attachment",FULL_MAP_PERMALINK:"full_map_permalink",FULL_MAP_ANNOTATION:"full_map_annotation",FULL_MAP_HSCROLL:"full_map_hscroll",FULL_MAP_MAPVIEW:"full_map_mapview",FULL_MAP_LISTVIEW:"full_map_listview",IMPLICIT_MAP:"implicit_map",LOOKING_FOR_MINUTIAE:"looking_for_minutiae",NOTIFICATION:"notification",NUX:"nux",PLACE_SEARCH:"place_search",REJECT:"reject",SLOT:"slot",STORY:"story",UNSOLICITED:"unsolicited",XOUT:"xout"})}),null);
__d("QuestionPollTypeJSEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NON_POLL:0,CHOOSE_ONE:1,CHOOSE_MULTIPLE:2,RANKED:3,GIF_CHOOSE_ONE:4,IMAGE_CHOOSE_ONE:5,VISUAL_TEXT_CHOOSE_ONE:6,IMAGE_CHOOSE_MULTIPLE:7})}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncRequest"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}j.prototype.setHandler=function(k){"use strict";this.$ReactComposerAsyncRequest2=k;return this};j.prototype.setErrorHandler=function(k){"use strict";this.$ReactComposerAsyncRequest3=k;return this};j.prototype.setFinallyHandler=function(k){"use strict";this.$ReactComposerAsyncRequest4=k;return this};j.prototype.$ReactComposerAsyncRequest5=function(k){"use strict";__p&&__p();var l=this.$ReactComposerAsyncRequest8(k);if(l){this.$ReactComposerAsyncRequest9(k);return}setTimeout(function(){var m=k.payload&&k.payload.isPostPending;if(!m)c("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest6=function(k){"use strict";var l=this.$ReactComposerAsyncRequest8(k);if(l){this.$ReactComposerAsyncRequest9(k);return}this.$ReactComposerAsyncRequest10(k)};j.prototype.$ReactComposerAsyncRequest8=function(k){"use strict";return k.payload&&k.payload.errors&&k.payload.errors[0]};j.prototype.$ReactComposerAsyncRequest9=function(k){"use strict";var l=this.$ReactComposerAsyncRequest8(k),m=new(c("AsyncResponse"))(k.getRequest(),k);m.errorSummary=l?l.summary:null;m.errorDescription=l?l.description:null;m.silentError=l&&l.is_silent;m.transientError=l&&l.is_transient;this.$ReactComposerAsyncRequest10(m)};j.prototype.$ReactComposerAsyncRequest10=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest7=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(k)}.bind(this),0)};f.exports=j}),null);
__d("ComposerPublisher",["invariant","AudienceTypes","BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerPhotoStore","CurrentUser","PlaceRecommendationEntrypoint","ProductCondition","ReactComposerAsyncRequest","ComposerStoryCreateMutationWebGraphQLMutation","ComposerStoryEditMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ComposerPublishType","gkx","PlaceAttachmentSetting","ReactComposerWebUnusedParameters","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","QuestionPollTypeJSEnum","uuid"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={publish:function j(k,l){this._publishCreateImpl(k.actorID,k.composerID,this.translateData(k.actorID,k.composerID,l),k.onPostSuccess,k.onPostFailure,null)},publishFromShareDialog:function j(k,l,m,n,o){this._publishCreateImpl(l.actorId,k,this.translateDataFromShareDialog(k,l),m,n,o)},_publishCreateImpl:function j(k,l,m,n,o,p){this._publishImpl(k,l,m,c("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),n,o,p)},_publishEditImpl:function j(k,l,m,n,o,p,q){this._publishImpl(k,l,m,c("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),o,p,null)},_publishImpl:function j(k,l,m,n,o,p,q){var r=c("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:n}),s=new(c("ReactComposerAsyncRequest"))(l,r).setHandler(o).setErrorHandler(p).setData({variables:JSON.stringify({client_mutation_id:c("uuid")(),actor_id:k,input:m})});if(q)s.setFinallyHandler(q);s.send();c("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},_getSharedMutationData:function j(k,l,m,n,o,p,q){__p&&__p();var r={};r.actor_id=k;r.client_mutation_id=c("uuid")();r.source="WWW";var s={};if(m&&this._getIsDirectedPost(k,m))s.to_id=m;else s.web_privacyx=n;r.audience=s;var t={};t.composer_session_id=o||c("uuid")();if(p)t.ref=p;r.logging=t;if(q)r.message=this._getTranslatedTextWithEntitiesFields(q);return r},translateDataFromShareDialog:function j(k,l){var m=this._getSharedMutationData(l.actorId,k,null,l.privacy,l.composerSessionID,null,l.message);return m},publishFromEditDialog:function j(k,l){this._publishEditImpl(k.actorID,k.composerID,this.translateDataFromEditDialog(k.actorID,k.composerID,l),c("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),k.onPostSuccess,k.onPostFailure,null)},translateDataFromEditDialog:function j(k,l,m){var n=this._getSharedMutationData(k,l,null,null,m.composer_session_id,null,null);n.story_id=m.postID;return n},translateData:function j(k,l,m){__p&&__p();var n=this._getSharedMutationData(k,l,m.xhpc_targetid,m.privacyx,m.composer_session_id,m.ref,m.xhpc_message);if(m.xc_sticker_id)n.referenced_sticker_id=m.xc_sticker_id;if(m.is_welcome_to_group_post)n.is_welcome_to_group_post=m.is_welcome_to_group_post;if(m.composer_source_surface)n.composer_source_surface=m.composer_source_surface;if(m.composer_entry_time)n.composer_entry_time=m.composer_entry_time;var o={};if(m.composer_session_duration)o.composition_duration=m.composer_session_duration;if(m.num_keystrokes)o.number_of_keystrokes=m.num_keystrokes;if(m.num_pastes)o.number_of_copy_pastes=m.num_pastes;if("composer_session_duration"in m||"num_keystrokes"in m||"num_pastes"in m)n.composer_session_events_log=o;if(m.composer_type)n.composer_type=m.composer_type;if(m.is_q_and_a)n.is_q_and_a=m.is_q_and_a;if(m.is_markdown)n.formatting="MARKDOWN";if(m.text_format_preset_id)n.text_format_preset_id=m.text_format_preset_id;if(m.multilingual_specified_lang)n.specified_dialect=m.multilingual_specified_lang;if(m.multilingual_statuses&&m.multilingual_status_langs){var p=[];for(var q=0;q<m.multilingual_statuses.length;++q)p.push({message:m.multilingual_statuses[q],dialect:m.multilingual_status_langs[q]});n.multilingual_translations=p}if(m.action_type_id&&m.action_type_id.length&&(m.object_id||m.object_str)){var r={};r.taggable_activity_id=m.action_type_id[0];if(m.object_id)r.object_id=m.object_id[0];if(m.object_str)r.object_text=m.object_str[0];if(m.icon_id)r.icon_id=m.icon_id;if(m.hide_object_attachment)r.object_attachment_behavior=m.hide_object_attachment?"HIDDEN":"SHOWN";if(m.og_suggestion_mechanism)for(var s in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[s]==m.og_suggestion_mechanism){r.suggestion_mechanism=s;break}n.inline_activities=[r]}if(m.composertags_sponsors){n.sponsor_id=m.composertags_sponsors[0];for(var t in c("BrandedContentSharedToSponsorStatus"))if(c("BrandedContentSharedToSponsorStatus")[t]==m.direct_share_status){n.direct_share_status=t;break}for(var u in c("BrandedContentSponsorRelationship"))if(c("BrandedContentSponsorRelationship")[u]==m.sponsor_relationship){n.sponsor_relationship=u;break}}var v={};if(m.target_type)v.target_type=m.target_type;if(m.xhpc_aggregated_story_composer)v.xhpc_aggregated_story_composer=m.xhpc_aggregated_story_composer;if(m.xhpc_composerid)v.xhpc_composerid=m.xhpc_composerid;if(m.xhpc_context)v.xhpc_context=m.xhpc_context;if(m.xhpc_finch)v.xhpc_finch=m.xhpc_finch;if(m.xhpc_fundraiser_page)v.xhpc_fundraiser_page=m.xhpc_fundraiser_page;if(m.xhpc_publish_type)for(var w in c("ComposerPublishType"))if(c("ComposerPublishType")[w]==m.xhpc_publish_type){v.xhpc_publish_type=w;break}if(m.xhpc_timeline)v.xhpc_timeline=m.xhpc_timeline;if(m.backdated_date&&m.backdated_date.year)v.backdated_array=m.backdated_date;if(m.qn)v.waterfall_id=m.qn;if(v)n.web_graphml_migration_params=v;if(m.fun_fact_prompt_id)n.fun_fact_prompt_id=m.fun_fact_prompt_id;if(m.extensible_sprouts_ranker_request)n.extensible_sprouts_ranker_request=m.extensible_sprouts_ranker_request;if(m.place_attachment_setting===c("PlaceAttachmentSetting").HIDE_ATTACHMENT)n.place_attachment_setting="HIDE_ATTACHMENT";else if(m.place_attachment_setting===c("PlaceAttachmentSetting").SHOW_ATTACHMENT)n.place_attachment_setting="SHOW_ATTACHMENT";if(m.composertags_with)n.with_tags_ids=m.composertags_with;if(m.is_placelist_post){var x={};x.is_placelist_post=m.is_placelist_post;if(m.placelist_within_page)x.placelist_within_page=m.placelist_within_page;if(m.place_list_entry_point)for(var y in c("PlaceRecommendationEntrypoint"))if(c("PlaceRecommendationEntrypoint")[y]==m.place_list_entry_point){x.place_list_entry_point=y;break}n.placelist_data=x}if(m.is_ad_post===true)n.unpublished_content_data={unpublished_content_type:"ADS_POST"};else if(m.draft===true||m.unpublished_content_type==="DRAFT")n.unpublished_content_data={unpublished_content_type:"DRAFT"};else if((m.scheduled===true||m.unpublished_content_type==="SCHEDULED")&&m.scheduled_publish_time)n.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:m.scheduled_publish_time};if(m.composertags_place)n.explicit_place_id=m.composertags_place;else if(m.composertags_city)n.implicit_place_id=String(m.composertags_city);else if(m.composertags_place_name)n.place_name=m.composertags_place_name;if(!c("isEmpty")(m.animated_image))n.animated_image=m.animated_image;if(!c("isEmpty")(m.event_tag))n.event_tag=m.event_tag;if(!c("isEmpty")(m.holiday_card))n.holiday_card=m.holiday_card;if(!c("isEmpty")(m.page_recommendation_ids))n.page_recommendation_ids=m.page_recommendation_ids;if(!c("isEmpty")(m.story_list_attachment_data))n.story_list_attachment_data=m.story_list_attachment_data;if(!c("isEmpty")(m.poll_question_data))n.poll_question_data=this._getTranslatedPollQuestionData(m.poll_question_data);var z=[];if(m.attachment&&m.attachment.params){z=[{link:{share_scrape_data:JSON.stringify({share_type:m.attachment.type,share_params:m.attachment.params,shared_from_post_id:m.attachment.shared_from_post_id})}}];if(m.attachment&&m.attachment.reshare_original_post||m.is_forced_reshare_of_post)n.reshare_original_post="RESHARE_ORIGINAL_POST"}else if(m.composer_unpublished_photo)z=this._getTranslatedMediaAttachments(this._getPhotos(l),m.composer_unpublished_photo,m.composer_custom_accessibility_caption,m.composer_has_crop,m.composer_has_filter,m.composer_text_overlay,m.composer_sticker,m.xy_tags);var A=this._getProductItemAttachment(m);if(A){var B={product_item:A};z.push(B)}if(m.charity_id){var C={fundraiser_for_story:{charity_id:m.charity_id}};z.push(C)}if(!c("isEmpty")(z))n.attachments=z;return n},_getGraphQLConditionKey:function j(k){switch(k){case c("ProductCondition").PC_NEW:return"NEW_ITEM";case c("ProductCondition").PC_REFURBISHED:return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function j(k){if(k.composer_attachment_sell_price&&k.composer_attachment_sell_title){var l=k.composer_attachment_sell_pickup_note;return{title:k.composer_attachment_sell_title,item_price:{price:k.composer_attachment_sell_price,currency:k.composer_attachment_sell_currency},location_page_id:k.composer_attachment_sell_location_page_id,pickup_note:l?this._getTranslatedTextWithEntitiesFields(l):null,condition:this._getGraphQLConditionKey(k.composer_attachment_sell_condition)}}return null},_getTranslatedMediaAttachments:function j(k,l,m,n,o,p,q,r){__p&&__p();var s=[];l.forEach(function(t){__p&&__p();var u;if(k.includes(t))(function(){__p&&__p();var v,w={};w.id=t;if(n[t]===true)w.crop_state="CROPPED";if(o[t]===true)w.filter_state="FILTERED";if(m[t])w.custom_accessibility_caption=m[t];if(p[t]&&!c("isEmpty")(p[t]))w.text_overlay=p[t];if(q[t]&&!c("isEmpty")(q[t]))(function(){var x=[];Object.keys(q[t]).forEach(function(y){x.push({id:y,count:q[t][y]})});w.stickers=x})();if(r&&Array.isArray(r))w.tags=r.filter(function(x){return x.fbid===w.id}).map(function(x){var y={};if(x.subject)y.id=x.subject;else y.name=x.name;return{x:x.x,y:x.y,source:x.source,taggee:y}});s.push({photo:w})})();else s.push({video:{id:t,notify_when_processed:true}})});return s},_getTranslatedPollQuestionData:function j(k){var l={};l.text=k.text;l.options=k.options;l.question_type=this._getTranslatedPollType(k.question_type);if(k.poll_end_time===0||k.poll_end_time)l.poll_end_time=k.poll_end_time;if(k.relative_poll_end_time===0||k.relative_poll_end_time)l.relative_poll_end_time=k.relative_poll_end_time;return l},_getTranslatedPollType:function j(k){var l=null;for(var m in c("QuestionPollTypeJSEnum"))if(c("QuestionPollTypeJSEnum")[m]===k){l=m;break}l||h(0);return l},_getTranslatedTextWithEntitiesFields:function j(k){var l=c("MentionsUtils").parseMessageMentions(k),m=l.ranges,n=l.text;if(!m)return{text:n,ranges:[]};else{var o=m.map(function(p){return{offset:p.offset,length:p.length,entity:{id:p.uid}}});return{text:n,ranges:o}}},getShouldUseGraphQLForStatus:function j(k,l){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","status");this._logUnsupportedFeatures("status",l);if(!this._getShouldUseGraphQL(l)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_missing_features");return false}if(l.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_target_type_page");return false}if(c("CurrentUser").getAccountID()!==k){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_different_actor");return false}if(l.composer_source_surface==="petition"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_surface_petition");return false}var m=this._getIsDirectedPost(k,l.xhpc_targetid);if(m&&!this._getDirectedTextSharePostGK()||!m&&!this._getUndirectedTextSharePostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_"+(m?"directed":"undirected")+"_failing_gating");return false}return true},getShouldUseGraphQLForMedia:function j(k,l,m){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","media");this._logUnsupportedFeatures("media",l);if(!this._getShouldUseGraphQL(l)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_missing_features");return false}if(l.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_target_type_page");return false}var n=this._getPhotos(m),o=this._getIsDirectedPost(k,l.xhpc_targetid);if(c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length===1){if(this._getUndirectedSingleVideoPostGK()&&!o||this._getDirectedSingleVideoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(o?"directed":"undirected")+"_failing_gating_single_video");return false}if(!c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length!==n.length||c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length>1){if(this._getUndirectedMultiMediaPostGK()&&!o||this._getDirectedMultiMediaPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(o?"directed":"undirected")+"_failing_gating_multi_media");return false}if(n&&n.length===1){if(this._getUndirectedSinglePhotoPostGK()&&!o||this._getDirectedSinglePhotoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(o?"directed":"undirected")+"_failing_gating_single_photo");return false}if(n){if(this._getUndirectedMultiPhotoPostGK()&&!o||this._getDirectedMultiPhotoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(o?"directed":"undirected")+"_failing_gating_multi_photos");return false}c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_failing_gating_completely");return false},getShouldUseGraphQLForShareDialog:function j(k){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","share");this._logUnsupportedFeaturesForShareDialog(k);if(!this._getShouldUseGraphQLForShareDialog(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_missing_features");return false}if(c("CurrentUser").getAccountID()!==k.actorId){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_different_actor");return false}if(k.audienceType!==c("AudienceTypes").OWN){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_unsupported_audience_type_"+(k.audienceType?k.audienceType:"unset"));return false}var l=this._getIsDirectedPost(k.actorId,k.actorId);if(l&&!this._getDirectedShareDialogPostGK()||!l&&!this._getUndirectedShareDialogPostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_"+(l?"directed":"undirected")+"_failing_gating");return false}return true},_getPhotos:function j(k){return c("ReactComposerPhotoStore").getPhotos(k).map(function(l){return l.id}).toArray()},_getIsSupportedParameter:function j(k,l){return c("ComposerPublisherSupportedParameters").includes(l)||c("ReactComposerWebUnusedParameters").parameter_names.includes(l)||c("isEmpty")(k[l])},_getIsSupportedParameterForShareDialog:function j(k,l){var m="share_dialog_";return c("ComposerPublisherSupportedParameters").includes(m+l)||c("ReactComposerWebUnusedParameters").parameter_names.includes(m+l)||c("isEmpty")(k[l])},_getShouldUseGraphQL:function j(k){for(var l in k)if(!this._getIsSupportedParameter(k,l))return false;return true},_getShouldUseGraphQLForEdit:function j(k){for(var l in k)if(!this._getIsSupportedParameterForEdit(k,l))return false;return true},getShouldUseGraphQLForEdit:function j(k){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","edit");this._logUnsupportedFeaturesForEdit(k);if(!this._getShouldUseGraphQLForEdit(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_missing_features");return false}if(!this._getEditPostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_failing_gating");return false}return true},_getIsSupportedParameterForEdit:function j(k,l){var m="edit_";return c("ComposerPublisherSupportedParameters").includes(m+l)||c("ReactComposerWebUnusedParameters").parameter_names.includes(m+l)||c("isEmpty")(k[l])},_getShouldUseGraphQLForShareDialog:function j(k){for(var l in k)if(!this._getIsSupportedParameterForShareDialog(k,l))return false;return true},_logUnsupportedFeatures:function j(k,l){for(var m in l)if(!this._getIsSupportedParameter(l,m))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature"+(l.target_type?"_target_type_"+l.target_type:""),k+"_"+m)},_logUnsupportedFeaturesForShareDialog:function j(k){for(var l in k)if(!this._getIsSupportedParameterForShareDialog(k,l))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature"+(k.audienceType?"_audience_type_"+k.audienceType:""),"share_"+l)},_logUnsupportedFeaturesForEdit:function j(k){for(var l in k)if(!this._getIsSupportedParameterForEdit(k,l))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature","edit_"+l)},_getIsDirectedPost:function j(k,l){return k!==l},_getUndirectedTextSharePostGK:function j(){return c("gkx")("AT7l3OqCgiXNAclxUuWHgQEOoZd1t6qB_FS_9ywnJVcGJcDOEIgRNlAYnH8ctLZ9itPVO1ZN5_w1B91tK0fVa3Vg")},_getDirectedTextSharePostGK:function j(){return c("gkx")("AT5v3BXfXeRBNQgeFQokgrflaeHPOq2qqzxjcMgQs8Iw5FnpvDxEPsPVWI5oQZfcXHc5CXbQuV5_9wQlnMITp00IRgoPFi1hUiyhgM4P-rEGFg")},_getUndirectedShareDialogPostGK:function j(){return c("gkx")("AT45qf4UyNsHtdrna_5Jepo7V6hwovngoxtz0wzbzcCPZEy8rihHe4c22mUFm09-0u5YdvuvCL4vxz9CZ2U3vdr9RSjLOk2PwTW0H24KZ4w4yg")},_getDirectedShareDialogPostGK:function j(){return c("gkx")("AT7EUBz3TOtL3DuCXqYYxhyMbVwTtYiR3kPK8XqRVssmG46rTwl30qbJHr8Z7stkUKr8Z387hkYEiYNY5lcHjFDXApIybVySxyQWR4f5Dyz13g")},_getUndirectedSingleVideoPostGK:function j(){return c("gkx")("AT5tnLuLnDi7NLnrRxvf2dXtE-620oDAsfUt6U7U074aoYFzjY9DVq_s7JJpRKGtVjeD-DKoRwtHkKZyW7cAW4bRzK_sbhn2ArcJH6WVzIaybg")},_getDirectedSingleVideoPostGK:function j(){return c("gkx")("AT4TPebq0Hg9eV_iv4hRws1PygA80SO-KGLx6Ixc7LU6XjcoWAlSyRzwAeZghqj_zxGw6MvLMKuTqUaDFQQHiLVpm50UOUHRKwAj5nCRRxtcUQ")},_getUndirectedSinglePhotoPostGK:function j(){return c("gkx")("AT4pG2_f23D27VXpRFOLZwhqkD6AdJB4DDJpAmYQjf539xVCrs8jUzlB-s7IoaEAVVC9-DjC4S3xhQ-6cDq9jM-2vp3gUHceS0SIOPXOYVPMoA")},_getUndirectedMultiPhotoPostGK:function j(){return c("gkx")("AT4zem96V2444q2zjsyHb9ctb7O0LElb62k6YvLfE_BwceTFXD7kJY1bsKocP6aMJhp84wULhkFFarlNJrs_nwEroGkbyF-JfBQj681vsO5n6g")},_getUndirectedMultiMediaPostGK:function j(){return c("gkx")("AT7cIzdjrhiUti5JYkZGJ0TF1T_m93ipKGsxKmdqs6NG5r7ymYEcKboUS0XkqSD0gfrsk4fMYB2wM8CgIpsO3vYXXR6ZLdiWzLPa9qgjBD5M0w")},_getDirectedSinglePhotoPostGK:function j(){return c("gkx")("AT6rcIrIG9am0y7uYSMWEyJPTI2mug4fZOp9ccelKeHUcUP1YG69kRsckOvtCdFE-osY1gqYaaks1PqSnJXVbTRUXjJaOKpb4MCKGs0tf03uOA")},_getDirectedMultiPhotoPostGK:function j(){return c("gkx")("AT4mLSZw6N7jw1XvnD7ydR9hAzJ0vSmgv1jXYDiq5PiqZbWpYJCrhnGFSOJmee4cQWa9Sbefr6gg7QHjmpoOZ0LecCe-yd1regHhM-oVNwgXNA")},_getDirectedMultiMediaPostGK:function j(){return c("gkx")("AT49HckgKBLjm8j8_MGdrHoMJtRq8KAoFtE995RSpmp2XG220S3YLLyhKMa17Oo5h6Rb57OKCOImqn9UXFDT30Ms")},_getEditPostGK:function j(){return c("gkx")("AT6ij-73aJcNQ76sAfPAFpBUhcBY6G5xLBL4R5h2hIkklTVu8NvREPCfStquvBVkkx29tzHVKvkT4lyhhCHAV-AC")}};f.exports=i}),null);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers["extends"]({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h}),null);
__d("RedEnvelopeActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$RedEnvelopeActionTypedLogger1={};return this};h.prototype.updateData=function(j){this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$RedEnvelopeActionTypedLogger1.action=j;return this};h.prototype.setExceptionMessage=function(j){this.$RedEnvelopeActionTypedLogger1.exception_message=j;return this};h.prototype.setExceptionType=function(j){this.$RedEnvelopeActionTypedLogger1.exception_type=j;return this};h.prototype.setP2pTransactionID=function(j){this.$RedEnvelopeActionTypedLogger1.p2p_transaction_id=j;return this};h.prototype.setRedEnvelopeID=function(j){this.$RedEnvelopeActionTypedLogger1.red_envelope_id=j;return this};h.prototype.setResponseCode=function(j){this.$RedEnvelopeActionTypedLogger1.response_code=j;return this};h.prototype.setSegmentID=function(j){this.$RedEnvelopeActionTypedLogger1.segment_id=j;return this};h.prototype.setStackTrace=function(j){this.$RedEnvelopeActionTypedLogger1.stack_trace=j;return this};h.prototype.setVC=function(j){this.$RedEnvelopeActionTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={action:true,exception_message:true,exception_type:true,p2p_transaction_id:true,red_envelope_id:true,response_code:true,segment_id:true,stack_trace:true,vc:true};f.exports=h}),null);
__d("isNumberLike",[],(function a(b,c,d,e,f,g){function h(i){return!isNaN(parseFloat(i))&&isFinite(i)}f.exports=h}),null);
__d("PagesComposerActionsTypes",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({BACKDATE:null,SET_DRAFT:null,SCHEDULE:null,SET_ADS_POST:null,SET_BOOSTED_POST:null,SHOW_OFFER_UPSELL:null,ABANDON_OFFER_UPSELL:null,INSTAGRAM_CROSS_POSTING:null,SET_IS_REVIEWABLE_BRANDED_CONTENT:null});f.exports=h}),null);
__d("PagesComposerBoostedPostsStore",["ReactComposerStoreBase","PagesComposerActionsTypes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={boostedPostConfig:null};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l;i.constructor.call(this,function(){return Object.assign({},j)},function(m){switch(m.type){case c("PagesComposerActionsTypes").SET_BOOSTED_POST:if(l){var n=l.getComposerData(m.composerID);n.boostedPostConfig=m.data}break}});l=this}k.prototype.getConfig=function(l){"use strict";return this.getComposerData(l).boostedPostConfig};f.exports=new k()}),null);
__d("PagesComposerActions",["ReactComposerDispatcher","PagesComposerActionsTypes","PagesComposerBoostedPostsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("PagesComposerBoostedPostsStore");var h={setDraft:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").SET_DRAFT})},schedule:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").SCHEDULE,scheduleDate:k,stopFeedDistributionDate:l})},backdate:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").BACKDATE,year:k,month:l,day:m,hideFromNewsFeed:n})},setAdsPost:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").SET_ADS_POST})},setBoostedPost:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").SET_BOOSTED_POST,data:k})},showOfferUpsell:function i(j,k){if(j)c("ReactComposerDispatcher").dispatch({composerID:j,config:k,type:c("PagesComposerActionsTypes").SHOW_OFFER_UPSELL})},abandonOfferUpsell:function i(j){if(j)c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL})},setInstagramCrossPosting:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,enabled:k,type:c("PagesComposerActionsTypes").INSTAGRAM_CROSS_POSTING})},setIsReviewableBrandedContent:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("PagesComposerActionsTypes").SET_IS_REVIEWABLE_BRANDED_CONTENT})}};f.exports=h}),null);
__d("ReactComposerCanvasActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},"ReactComposerCanvasActionType")}),null);
__d("ReactComposerPhotoCarouselActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},"ReactComposerPhotoCarouselActionType")}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_CAMERA_ICON:"carousel_camera_icon"})}),null);
__d("ReactComposerPhotoCarouselStore",["CarouselPagesComposerSource","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerPhotoCarouselActionType","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerPhotoCarouselActionType").SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c("ReactComposerPhotoCarouselActionType").UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c("ReactComposerPhotoCarouselActionType").SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c("ReactComposerPhotoCarouselActionType").HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerPhotoCarouselActionType").SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c("CarouselPagesComposerSource").CAROUSEL_CAMERA_ICON)c("PagesComposerActionsLogger").log({event:c("PagesComposerPostActionsLoggerEvent").CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c("ReactComposerAttachmentType").MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c("ReactComposerAttachmentType").MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false}this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l)};j.prototype.shouldShowURLEditArea=function(k){"use strict";return this.getComposerData(k).shouldShowURLEditArea};j.prototype.seenNux=function(k){"use strict";return this.getComposerData(k).seenNux};j.prototype.isPhotoCarouselSelected=function(k){"use strict";return this.getComposerData(k).isPhotoCarouselSelected};j.prototype.isCarouselPreviewCompleted=function(k){"use strict";return this.getComposerData(k).isCarouselPreviewCompleted};f.exports=new j()}),null);
__d("ReactComposerCollectionActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_CANCEL_COLLECTION:null,SET_COLLECTION:null,SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:null,SET_POST_TITLE:null,SET_PRODUCT_SET_ID:null,SET_FEATURED_PRODUCT_IDS:null,SHOW_FEATURED_PRODUCT_DIALOG:null,HIDE_FEATURED_PRODUCT_DIALOG:null,UPDATE_COLLECTION_DIALOG_VISIBILITY:null},"ReactComposerCollectionActionType")}),null);
__d("XReactComposerCollectionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/bootstrap/",{composer_id:{type:"String",required:true},canvas_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XReactComposerCollectionAttachmentPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/publish/",{canvas_id:{type:"FBID",required:true},featured_retailer_ids:{type:"StringSet",required:true}})}),null);
__d("ReactComposerCollectionStore",["Bootloader","ActorURI","AsyncRequest","ReactComposerActionTypes","ReactComposerCollectionActionType","ReactComposerStoreBase","XReactComposerCollectionAttachmentBootstrapController","XReactComposerCollectionAttachmentPublishController","AdsCollectionsConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{actorID:null,attachmentConfig:{},canvasID:null,defaultCanvasID:null,featuredRetailerIDs:j,featuredRetailerImages:[],heroImage:null,heroVideo:null,isCollectionSelected:false,isLoading:false,itemIDs:[],itemImages:[],productCatalogVertical:null,productSetID:null,templateID:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerCollectionActionType").ATTACHMENT_SELECT_COLLECTION:l&&l.$ReactComposerCollectionStore1(m);break;case c("ReactComposerCollectionActionType").ATTACHMENT_CANCEL_COLLECTION:l&&l.$ReactComposerCollectionStore2(m);break;case c("ReactComposerCollectionActionType").SET_COLLECTION:l&&l.$ReactComposerCollectionStore3(m);break;case c("ReactComposerCollectionActionType").SET_POST_TITLE:l&&l.$ReactComposerCollectionStore4(m);break;case c("ReactComposerCollectionActionType").SET_PRODUCT_SET_ID:l&&l.$ReactComposerCollectionStore5(m);break;case c("ReactComposerCollectionActionType").SET_FEATURED_PRODUCT_IDS:l&&l.$ReactComposerCollectionStore6(m);break;case c("ReactComposerCollectionActionType").SHOW_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,true);break;case c("ReactComposerCollectionActionType").HIDE_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,false);break;case c("ReactComposerCollectionActionType").UPDATE_COLLECTION_DIALOG_VISIBILITY:l&&l.$ReactComposerCollectionStore8(m);break;case c("ReactComposerCollectionActionType").SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:l&&l.$ReactComposerCollectionStore9(m);break;case c("ReactComposerActionTypes").POST_STARTED:l&&l.$ReactComposerCollectionStore10(m);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:l&&l.$ReactComposerCollectionStore11(m);break;default:break}});l=this}k.prototype.$ReactComposerCollectionStore12=function(l,m){__p&&__p();var n=this.getComposerData(l),o=Object.entries(m).filter(function(w){var u=w[0],v=w[1];return n[u]!==v});if(o.length){for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];n[u]=v}this.emitChange(l)}};k.prototype.$ReactComposerCollectionStore2=function(l){var m=this.validateAction(l,"composerID");this.clearComposerData(m);this.emitChange(m)};k.prototype.$ReactComposerCollectionStore1=function(l){var m=this.validateAction(l,["actorID","composerID","canvasID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=c("XReactComposerCollectionAttachmentBootstrapController").getURIBuilder().setString("composer_id",o).setFBID("canvas_id",p).setFBID("target_id",q).getURI();r=c("ActorURI").create(r,n);new(c("AsyncRequest"))(r).send();this.$ReactComposerCollectionStore12(o,{attachmentConfig:{},canvasID:p,isCollectionSelected:!!p,isLoading:true})};k.prototype.$ReactComposerCollectionStore10=function(l){var m=this.validateAction(l,["actorID","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o);if(!p.isCollectionSelected)return;p.actorID=n};k.prototype.$ReactComposerCollectionStore11=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.actorID)return;var o=c("XReactComposerCollectionAttachmentPublishController").getURIBuilder().setFBID("canvas_id",n.canvasID).setStringSet("featured_retailer_ids",n.featuredRetailerIDs).getURI();o=c("ActorURI").create(o,n.actorID);new(c("AsyncRequest"))(o).send();n.actorID=null;this.$ReactComposerCollectionStore8({composerID:m,isVisible:false,canvasID:null})};k.prototype.$ReactComposerCollectionStore3=function(l){var m=l.composerID,n=l.postTitle,o=babelHelpers.objectWithoutProperties(l,["composerID","postTitle"]),p=o.attachmentConfig.params;p.title=n;if(o.heroImage)p.images.push(o.heroImage);else if(o.heroVideo)p.video.push(o.heroVideo);o.isLoading=false;this.$ReactComposerCollectionStore12(m,o)};k.prototype.$ReactComposerCollectionStore4=function(l){var m=this.validateAction(l,["composerID","postTitle"]),n=m[0],o=m[1],p=this.getComposerData(n);p.attachmentConfig.params.title=o;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore5=function(l){var m=this.validateAction(l,["composerID","productSetID","productCatalogVertical"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.productSetID=o;q.productCatalogVertical=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore7=function(l,m){var n=this.validateAction(l,"composerID"),o=this.getComposerData(n);o.shouldShowFeaturedProductDialog=m;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore6=function(l){var m=this.validateAction(l,["composerID","featuredRetailerIDs","featuredRetailerImages"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.featuredRetailerIDs=o;q.featuredRetailerImages=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore8=function(l){c("Bootloader").loadModules(["AdsCanvasInlineBuilderActions"],function(m){var n=this.validateAction(l,["composerID","isVisible"]),o=n[0],p=n[1],q=l.canvasID,r=this.getComposerData(o),s=r.defaultCanvasID,t=r.templateID;m.setShowInlineModal(p,q||s,t)}.bind(this),"ReactComposerCollectionStore")};k.prototype.$ReactComposerCollectionStore9=function(l){var m=this.validateAction(l,["composerID","defaultCanvasID","templateID"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerCollectionStore12(n,{defaultCanvasID:o,templateID:p})};k.prototype.shouldShowFeaturedProductDialog=function(l){return this.getComposerData(l).shouldShowFeaturedProductDialog};k.prototype.isCollectionSelected=function(l){return this.getComposerData(l).isCollectionSelected};k.prototype.isLoading=function(l){return this.getComposerData(l).isLoading};k.prototype.getAttachmentConfig=function(l){var m=this.getComposerData(l),n=m.attachmentConfig;return n.params?n:null};k.prototype.getCanvasID=function(l){return this.getComposerData(l).canvasID};k.prototype.getHeroImage=function(l){return this.getComposerData(l).heroImage};k.prototype.getHeroVideo=function(l){return this.getComposerData(l).heroVideo};k.prototype.getItemImages=function(l){var m=this.getComposerData(l),n=m.featuredRetailerIDs,o=m.featuredRetailerImages,p=m.itemIDs,q=m.itemImages,r=n.reduce(function(t,u){t[u]=true;return t},{}),s=q.filter(function(t,u){return!r[p[u]]});return o.concat(s).slice(0,4)};k.prototype.getPostTitle=function(l){var m=this.getComposerData(l),n=m.attachmentConfig.params;return n?n.title:""};k.prototype.getProductCatalogVertical=function(l){return this.getComposerData(l).productCatalogVertical};k.prototype.getProductSetID=function(l){return this.getComposerData(l).productSetID};f.exports=new k()}),null);
__d("ReactComposerSlideshowActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},"ReactComposerSlideshowActionType")}),null);
__d("SlideshowImageUtil",["invariant","immutable","SlideshowConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("SlideshowConstants").formats,j="-",k=24,l=1.3,m=10,n=460,o=32,p=.8,q={getCroppingSpec:function r(s,t,u,v){if(v&&s){var w=Object.keys(s)[0],x=s[w];return{format:c("SlideshowConstants").formats.Original,topLeft:x[0],bottomRight:x[1]}}return this.getFullSizeImageBoxCroppingSpec({width:u.width?u.width:0,height:u.height?u.height:0},{width:t.width,height:t.height})},shouldCropImages:function r(s){__p&&__p();var t=s[0].width,u=s[0].height;for(var v=s,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.width!==t||z.height!==u)return true}return false},getCrops:function r(s,t,u){var v,w=this.calculateDefaultCoordinates(s,u);return v={},v[t]=w,v},calculateCropsForFormat:function r(s,t,u){__p&&__p();if(!s.size)return c("immutable").Map();var v=c("immutable").Map();switch(t){case i.Original:var w=s.first(),x=u.get(w.key),y=x.height,z=x.width;s.forEach(function(A){v=v.set(A.key,this.getCrops(u.get(A.key),z+c("SlideshowConstants").SIZE_DELIMITER+y,z/y))}.bind(this));break;case i.Wide:s.forEach(function(A){v=v.set(A.key,this.getCrops(u.get(A.key),t,c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO))}.bind(this));break;case i.Square:s.forEach(function(A){v=v.set(A.key,this.getCrops(u.get(A.key),t,c("SlideshowConstants").SQUARE_ASPECT_RATIO))}.bind(this));break;case i.Vertical:s.forEach(function(A){v=v.set(A.key,this.getCrops(u.get(A.key),t,c("SlideshowConstants").VERTICAL_ASPECT_RATIO))}.bind(this));break;default:}return v},calculateDefaultCoordinates:function r(s,t){__p&&__p();var u=void 0,v=void 0;if(s.width/t>s.height){u=s.height;v=s.height*t}else{v=s.width;u=s.width/t}var w=(s.width-v)/2,x=(s.height-u)/2,y=Math.floor(w)-w,z=Math.floor(x)-x;return[[w+y,x+z],[Math.round(w+v+y),Math.round(x+u+z)]]},getPreviewBoxDimensions:function r(s,t){__p&&__p();var u=t,v=t;if(s.length>0){var w=s[0],x=Object.keys(w)[0];switch(x){case c("SlideshowConstants").formats.Wide:u=t/c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO;break;case c("SlideshowConstants").formats.Vertical:v=t*c("SlideshowConstants").VERTICAL_ASPECT_RATIO;break;case c("SlideshowConstants").formats.Square:break;default:var y=x.split(c("SlideshowConstants").SIZE_DELIMITER),z=Number(y[0]),A=Number(y[1]);if(z>A)u=Math.floor(v*A/z);else v=Math.floor(u*z/A);break}}return{width:v,height:u}},getFullSizeImageBoxCroppingSpec:function r(s,t){var u=t.width/t.height,v=this.calculateDefaultCoordinates(s,u);v.length===2||h(0);return{format:c("SlideshowConstants").formats.Original,topLeft:v[0],bottomRight:v[1]}},getDefaultCroppingSpec:function r(s){var t=this.calculateDefaultCoordinates(s,1);t.length===2||h(0);return{format:c("SlideshowConstants").formats.Square,topLeft:t[0],bottomRight:t[1]}},getHorizontalAlignmentForAPI:function r(s){var t=s.split(j);return t[1]},getFontSize:function r(s){return Math.floor(k*s)},getFontWeight:function r(s){return s?"bold":"normal"},getLineHeight:function r(){return l},getOpacity:function r(){return p},getTextoverlayMaxEdge:function r(s,t){return s-o*t*2-m*t*2},getTextoverlayPadding:function r(s){return m*s},getTextoverlayMargin:function r(s){return o*s},getScaleMultiplierFromCrops:function r(s){var t=Object.keys(s)[0],u=t.split(c("SlideshowConstants").SIZE_DELIMITER),v=Number(u[0]),w=Number(u[1]);return q.getScaleMultiplier(v,w)},getScaleMultiplier:function r(s,t){return Math.max(s/n,t/n)},getOuterTextboxCoordinatesForAPI:function r(s,t,u){var v=Object.keys(s)[0],w=v.split(c("SlideshowConstants").SIZE_DELIMITER),x=Number(w[0]),y=Number(w[1]),z=q.calculateTextboxCoordinates(y,x,t,u);return[Math.floor(z.marginLeft),Math.floor(y-z.marginTop-z.textHeight),Math.ceil(z.marginLeft+z.textWidth),Math.ceil(y-z.marginTop)]},getInnerTextboxCoordinatesForAPI:function r(s,t,u){var v=Object.keys(s)[0],w=v.split(c("SlideshowConstants").SIZE_DELIMITER),x=Number(w[0]),y=Number(w[1]),z=q.calculateTextboxCoordinates(y,x,t,u);return[Math.floor(z.marginLeft),Math.floor(y-z.marginTop-z.textHeight),Math.ceil(z.marginLeft+z.textWidth),Math.ceil(y-z.marginTop)]},convertHexToRGBA:function r(s){if(!s)return null;s=s.replace("#","");var t=parseInt(s.substring(0,2),16),u=parseInt(s.substring(2,4),16),v=parseInt(s.substring(4,6),16);return"rgba("+t+","+u+","+v+","+q.getOpacity()+")"},calculateTextboxCoordinates:function r(s,t,u,v){__p&&__p();var w=u.text_alignment.split(j),x=w[1],y=w[0],z=q.getFontSize(v),A=q.getTextoverlayMaxEdge(t,v),B=q.getTextoverlayMaxEdge(s,v),C=document.createElement("div");C.textContent=u.textoverlay_content?u.textoverlay_content:"";C.style.visibility="hidden";C.style.display="inline-block";C.style.wordWrap="break-word";C.style.whiteSpace="pre-wrap";C.style.fontFamily=u.font;C.style.fontWeight=q.getFontWeight(u.bold);C.style.fontSize=z+"px";C.style.textAlign=x;C.style.maxWidth=A+"px";C.style.maxHeight=B+"px";C.style.lineHeight=q.getLineHeight()*z+"px";C.style.padding=q.getTextoverlayPadding(v)+"px";C.style.letterSpacing="0.2px";document.body.appendChild(C);var D=C.clientWidth,E=C.clientHeight;document.body.removeChild(C);var F=o*v,G=o*v,H=t-o*v,I=s-o*v;if(x=="center")F=Math.min((t-D)/2,H);else if(x=="right")F=Math.min(t-o*v-D,H);if(y=="center")G=Math.min((s-E)/2,I);else if(y=="bottom")G=Math.min(s-o*v-E,I);return{marginLeft:F,marginTop:G,textHeight:E,textWidth:D}}};f.exports=q}),null);
__d("ReactComposerSelectedImagesStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowImageUtil","mergeDeepInto"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SlideshowConstants").formats,k=c("SlideshowConstants").max_photo_num;h=babelHelpers.inherits(l,c("ReactComposerStoreBase"));i=h&&h.prototype;l.prototype.$ReactComposerSelectedImagesStore1=function(m,n,o){var p;if(m.isLoading)return{};var q=c("SlideshowImageUtil").calculateDefaultCoordinates({width:m.width,height:m.height},o);return p={},p[n]=q,p};l.prototype.$ReactComposerSelectedImagesStore2=function(m,n,o){var p=o;if(!p)p=this.getComposerData(m).format;return this.$ReactComposerSelectedImagesStore3(n,p)};l.prototype.$ReactComposerSelectedImagesStore3=function(m,n){__p&&__p();if(!m.length)return[];switch(n){case j.Original:var o=m[0];return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,o.width+c("SlideshowConstants").SIZE_DELIMITER+o.height,o.width/o.height)}.bind(this));case j.Wide:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO)}.bind(this));case j.Square:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").SQUARE_ASPECT_RATIO)}.bind(this));case j.Vertical:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").VERTICAL_ASPECT_RATIO)}.bind(this));default:return[]}};function l(){__p&&__p();var m=void 0;i.constructor.call(this,function(){return{selectedImages:[],imagesCrops:[],editState:null,format:c("SlideshowConstants").formats.Original,removedUploadIDs:[],addedUploadIDs:[]}},function(n){__p&&__p();switch(n.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:c("ReactComposerDispatcher").waitFor([c("ReactComposerMediaUploadStore").getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore4(n);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore5(n);break;case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:m&&m.$ReactComposerSelectedImagesStore6(n);break;case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:m&&m.$ReactComposerSelectedImagesStore7(n);break;case c("ReactComposerSlideshowActionType").REORDER_IMAGES:m&&m.$ReactComposerSelectedImagesStore8(n);break;case c("ReactComposerSlideshowActionType").FORMAT_CHANGE:m&&m.$ReactComposerSelectedImagesStore9(n);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore10(n);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSelectedImagesStore11(n);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore12(n);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore13(n);break;case c("ReactComposerSlideshowActionType").CREATE:m&&m.$ReactComposerSelectedImagesStore14(n);break;default:break}});m=this}l.prototype.$ReactComposerSelectedImagesStore4=function(m){var n=m.composerID,o=this.getComposerData(n),p=c("ReactComposerMediaUploadStore").getUploads(n),q=this.addNewImagesFromPhotoUploads(p,o.selectedImages,o.removedUploadIDs);o.selectedImages=o.selectedImages.concat(q);if(o.editState!==null)o.addedUploadIDs=o.addedUploadIDs.concat(q.map(function(r){return r.key}));this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore5=function(m){var n=m.composerID,o=this.getComposerData(n),p=c("ReactComposerPhotoStore").getPhotos(n);o.selectedImages=this.replacePhotoUploadsFromPhotos(p,o.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore11=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=[];o.imagesCrops=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore10=function(m){var n=m.composerID,o=this.getComposerData(n);if(!m.shouldShowSlideshowDialog){o.selectedImages=[];o.imagesCrops=[]}this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore6=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=o.selectedImages.concat(m.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore7=function(m){var n=m.composerID,o=this.getComposerData(n);if(o.editState!==null)o.removedUploadIDs.push(m.removeImage.key);var p=o.selectedImages.filter(function(q){return q.key!==m.removeImage.key});o.selectedImages=p;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,p);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore8=function(m){var n=m.composerID,o=this.getComposerData(n),p=m.data,q=p.fromIndex,r=p.toIndex,s=o.selectedImages.slice(0),t=Object.assign({},s[q]);s[q].remove=true;s.splice(q>r?r:r+1,0,t);s=s.filter(function(u){return!u.remove});o.selectedImages=s;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,s);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore9=function(m){var n=m.composerID,o=this.getComposerData(n);o.format=m.format;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages,m.format);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore12=function(m){var n=m.composerID,o=this.getComposerData(n),p={};c("mergeDeepInto")(p,o);o.editState=p;this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore13=function(m){var n=m.composerID,o=this.getComposerData(n),p=o.editState;o.selectedImages=p.selectedImages;o.imagesCrops=p.imagesCrops;o.format=p.format;o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore14=function(m){var n=m.composerID,o=this.getComposerData(n);o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.getImagesFromPhotoUploads=function(m){var n=[];m.forEach(function(o){n.push({height:null,isLoading:true,key:o.id,url:null,width:null})});return n};l.prototype.addNewImagesFromPhotoUploads=function(m,n,o){var p=this.getImagesFromPhotoUploads(m),q=p.filter(function(r){var s=n.findIndex(function(u){return u.key===r.key}),t=o.findIndex(function(u){return u===r.key});return s===-1&&t===-1});return q};l.prototype.replacePhotoUploadsFromPhotos=function(m,n){return n.map(function(o){var p=o,q=m.find(function(q){return q.uploadID===o.key});if(q!=null)p={height:q.height,isLoading:false,key:q.uploadID,photoID:q.id,thumbSrc:q.thumbSrc,url:q.imageSrc,width:q.width};return p})};l.prototype.getPhotoIDs=function(m){var n=this.getComposerData(m);return n.selectedImages.map(function(o){return o.photoID}).slice(0,k)};l.prototype.getRemovedUploadIDs=function(m){return this.getComposerData(m).removedUploadIDs};l.prototype.getAddedUploadIDs=function(m){return this.getComposerData(m).addedUploadIDs};l.prototype.getSelectedImages=function(m){return this.getComposerData(m).selectedImages};l.prototype.getThumbnailSrc=function(m){var n=this.getComposerData(m).selectedImages;if(n.length>0)return n[0].thumbSrc;return null};l.prototype.getImagesCrops=function(m){return this.getComposerData(m).imagesCrops};l.prototype.getNumberOfImages=function(m){return Math.min(this.getComposerData(m).selectedImages.length,k)};l.prototype.getFormat=function(m){return this.getComposerData(m).format};f.exports=new l()}),null);
__d("ReactComposerSlideshowActions",["ReactComposerDispatcher","ReactComposerSlideshowActionType"],(function a(b,c,d,e,f,g){__p&&__p();var h={showSlideshowEditField:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD})},hideSlideshowEditField:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD})},showSlideshowDialog:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,entrypoint:k,shouldShowSlideshowDialog:true,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})},closeSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,shouldShowSlideshowDialog:false,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})},showEditSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG})},closeEditSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG})},selectImagesConfirm:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedImages:k,type:c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM})},removeImage:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,removeImage:k,type:c("ReactComposerSlideshowActionType").IMAGE_REMOVE})},reorderImages:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,data:{fromIndex:k,toIndex:l},type:c("ReactComposerSlideshowActionType").REORDER_IMAGES})},changeStorylineMoodFile:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedStorylineMood:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE})},deleteStorylineMoodFile:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedStorylineMood:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE})},changeStorylineMoodIDSource:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodIDSource:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE})},changeStorylineMoodSourceMap:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodIDToSource:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE})},changeTransition:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,transitionInMS:k,type:c("ReactComposerSlideshowActionType").TRANSITION_CHANGE})},changeDuration:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,durationInMS:k,type:c("ReactComposerSlideshowActionType").DURATION_CHANGE})},setStorylineMoodFiles:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodFiles:k,type:c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES})},createSlideshow:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").CREATE})},changeFormat:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,format:k,type:c("ReactComposerSlideshowActionType").FORMAT_CHANGE})},selectTab:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,tab:k,type:c("ReactComposerSlideshowActionType").SELECT_TAB})},musicCategorySelect:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedMusicCategory:k,type:c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT})},previewStateChange:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,isPreviewPlaying:k,type:c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE})},audioFileUploadStarted:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED})},audioFileUploadError:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR})},audioFileUploadSuccess:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,uploadedMood:k,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS})}};f.exports=h}),null);
__d("SlideshowFlowTypes",[],(function a(b,c,d,e,f,g){"use strict";var h={SETTINGS_TAB:"SETTINGS_TAB",MUSIC_TAB:"MUSIC_TAB",FRAMES_TAB:"FRAMES_TAB"};f.exports={SlideshowTabKey:h}}),null);
__d("ReactComposerSlideshowStore",["ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowFlowTypes","mergeDeepInto"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{durationInMS:1e3,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c("SlideshowConstants").transitions.None}},function(m){__p&&__p();switch(m.type){case c("ReactComposerSlideshowActionType").CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c("ReactComposerSlideshowActionType").TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c("ReactComposerSlideshowActionType").SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break}});l=this}k.prototype.$ReactComposerSlideshowStore1=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore9=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore2=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore3=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore4=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore5=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore6=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore7=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m),o={};c("mergeDeepInto")(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore8=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m)};k.prototype.isSlideshowSelected=function(l){"use strict";return this.getComposerData(l).isSlideshowSelected};k.prototype.isEditing=function(l){"use strict";return this.getComposerData(l).editState!==null};k.prototype.shouldShowSlideshowDialog=function(l){"use strict";return this.getComposerData(l).shouldShowSlideshowDialog};k.prototype.getDurationInMS=function(l){"use strict";return this.getComposerData(l).durationInMS};k.prototype.getTotalLength=function(l,m){"use strict";return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m};k.prototype.getTransitionInMS=function(l){"use strict";return this.getComposerData(l).transitionInMS};k.prototype.getSelectedTab=function(l){"use strict";return this.getComposerData(l).selectedTab};f.exports=new k()}),null);
__d("SlideshowMusicCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALL_TRACKS:"All Tracks",USER_UPLOADED:"User Uploaded",RECENTLY_USED:"Recently Used",ENERGETIC:"Energetic",INSPIRATIONAL:"Inspirational",FUN:"Fun",TRUSTWORTHY:"Trustworthy",MODERN:"Modern"})}),null);
__d("SlideshowAudioUtil",["ix","Image.react","React","SlideshowMusicCategory","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getMusicCategoryGlyph:function j(k){__p&&__p();switch(k){case c("SlideshowMusicCategory").ALL_TRACKS:return c("React").createElement(c("Image.react"),{src:h("129467")});case c("SlideshowMusicCategory").USER_UPLOADED:return c("React").createElement(c("Image.react"),{src:h("128769")});case c("SlideshowMusicCategory").RECENTLY_USED:return c("React").createElement(c("Image.react"),{src:h("129053")});case c("SlideshowMusicCategory").ENERGETIC:return c("React").createElement(c("Image.react"),{src:h("128852")});case c("SlideshowMusicCategory").INSPIRATIONAL:return c("React").createElement(c("Image.react"),{src:h("128909")});case c("SlideshowMusicCategory").FUN:return c("React").createElement(c("Image.react"),{src:h("129302")});case c("SlideshowMusicCategory").TRUSTWORTHY:return c("React").createElement(c("Image.react"),{src:h("128881")});case c("SlideshowMusicCategory").MODERN:return c("React").createElement(c("Image.react"),{src:h("129337")});default:return null}},storylineMoodCompare:function j(k,l){if(!k&&!l)return true;else if(!k||!l)return false;return k.fileName===l.fileName&&k.moodID===l.moodID&&JSON.stringify(k.categories)===JSON.stringify(l.categories)}};f.exports=i}),null);
__d("SlideshowFrameImagesRequestType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SCHEDULE_ASYNC_JOB:0,FETCH_FRAME_IMAGES:1})}),null);
__d("XSlideshowShakrOAuthController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/shakr/",{})}),null);
__d("XSlideshowShakrPollController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/shakr/show/",{})}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/storyline_mood/",{target_id:{type:"FBID"}})}),null);
__d("XSlideshowStorylineMoodDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/storyline_mood/delete/",{})}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/storyline_mood/upload/",{})}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/slideshow/frame_images/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}})}),null);
__d("SlideshowDataManager",["AsyncRequest","Bootloader","SlideshowFrameImagesRequestType","XSlideshowShakrOAuthController","XSlideshowShakrPollController","XSlideshowStorylineMoodAsyncController","XSlideshowStorylineMoodDeleteController","XSlideshowStorylineMoodUploadController","XSlideshowVideoFrameImagesAsyncController","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.fetchStorylineMoodSource=function(i,j,k){var l=c("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(l).setData({storyline_mood_id:i,total_length:j}).setMethod("POST").setHandler(function(m){return k(m.payload)}).send()};h.prototype.fetchStorylineMoodFiles=function(i,j){var k=c("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(k).setMethod("GET").setData({target_id:j}).setReadOnly(true).setHandler(function(l){return i(this.getStorylineMoodFiles(l.payload))}.bind(this)).send()};h.prototype.getStorylineMoodFiles=function(i){var j=[];Object.keys(i).forEach(function(k){j.push({moodID:k,fileName:i[k].fileName,categories:i[k].categories,source:null})});return c("immutable").List(j)};h.prototype.scheduleFrameImagesAsyncJob=function(i){var j=c("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(j).setData({request_type:c("SlideshowFrameImagesRequestType").SCHEDULE_ASYNC_JOB,video_id:i}).setMethod("POST").send()};h.prototype.fetchVideoFrameImages=function(i,j){var k=c("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(k).setData({request_type:c("SlideshowFrameImagesRequestType").FETCH_FRAME_IMAGES,video_id:j}).setMethod("POST").setHandler(function(l){return i(l.payload)}).send()};h.prototype.uploadAudioFile=function(i,j,k,l){if(!i||!i.input||!i.input.files.length)return;var m=c("XSlideshowStorylineMoodUploadController").getURIBuilder().getURI(),n=new FormData();n.append("audio_file",i.input.files[0]);n.append("target_id",j);new(c("AsyncRequest"))().setURI(m).setRawData(n).setMethod("POST").setErrorHandler(function(o){return l()}).setHandler(function(o){return this.$SlideshowDataManager1(o.payload,k,l)}.bind(this)).send();i.clear()};h.prototype.$SlideshowDataManager1=function(i,j,k){if(i.success)j({moodID:i.moodID,fileName:i.fileName,categories:i.categories,source:null});else k()};h.prototype.deleteAudioFile=function(i){var j=c("XSlideshowStorylineMoodDeleteController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(j).setData({mood_id:i}).setMethod("POST").send()};h.prototype.getShakrScopeToken=function(i){var j=c("XSlideshowShakrOAuthController").getURIBuilder();new(c("AsyncRequest"))().setURI(j.getURI()).setHandler(function(k){return i(k.payload)}).send()};h.prototype.pollShakrForVideoURL=function(i,j){var k=c("XSlideshowShakrPollController").getURIBuilder();new(c("AsyncRequest"))().setURI(k.getURI()).setData({show_id:i}).setHandler(function(l){return j(l.payload)}).send()};function h(){}f.exports=new h()}),null);
__d("SlideshowUtil",["SlideshowConstants","SlideshowImageUtil","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3,i=2,j={getDurationParam:function k(l,m,n){var o=Math.min(l,c("SlideshowConstants").max_photo_num),p=h*m,q=n*(o-1),r=Math.floor((p-q)/o);return{durationInMS:r,transitionInMS:n}},getTotalLengthInSec:function k(l,m){var n=Math.min(m,c("SlideshowConstants").max_photo_num);return Math.round(l*n/h)},getMaximumTotalLengthInMS:function k(){var l=c("SlideshowConstants").max_photo_num,m=c("SlideshowConstants").image_duration_in_sec_options.slice(-1)[0];return l*m*h},getTotalNumFramesFromVideo:function k(){return c("SlideshowConstants").frames_from_video.default_num_selected_frames+i},getSelectedFramesFromVideo:function k(l,m){var n=l.length>=m+2?2:0,o=l.length-n,p=n==2?1:0,q=o+p,r=c("immutable").List(),s=Math.max(1,(o-1)/(m-1));while(p<q){r=r.push(l[Math.floor(p)]);p+=s}return r},convertHexToRGB:function k(l,m){if(!l)return null;l=l.replace("#","");var n=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),p=parseInt(l.substring(4,6),16),q=m?1:c("SlideshowImageUtil").getOpacity();return[Math.round(255*q),n,o,p]},getTextoverlayParam:function k(l,m){if(!l.textoverlay_content)return[{text_content:" ",textbox_coordinates:[0,0,0,0]}];var n=c("SlideshowImageUtil").getScaleMultiplierFromCrops(m);return[{background_color:j.convertHexToRGB(l.background_color,false),text_content:" ",textbox_coordinates:c("SlideshowImageUtil").getOuterTextboxCoordinatesForAPI(m,l,n)},{text_content:l.textoverlay_content,textbox_coordinates:c("SlideshowImageUtil").getInnerTextboxCoordinatesForAPI(m,l,n),text_color:j.convertHexToRGB(l.font_color,true),text_font:l.font==="Helvetica Neue Slideshow"?"Helvetica Neue":l.font,text_weight:l.bold,text_halign:c("SlideshowImageUtil").getHorizontalAlignmentForAPI(l.text_alignment),text_size:c("SlideshowImageUtil").getFontSize(n)}]}};f.exports=j}),null);
__d("ReactComposerSlideshowAudioStore",["immutable","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerSelectedImagesStore","ReactComposerSlideshowActions","ReactComposerSlideshowActionType","ReactComposerSlideshowStore","ReactComposerStoreBase","SlideshowAudioUtil","SlideshowDataManager","SlideshowMusicCategory","SlideshowUtil","mergeDeepInto"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{audioFileUploadInfo:{isUploading:false,hasError:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:c("immutable").List(),selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c("immutable").List(),storylineMoodIDToSource:c("immutable").Map()}},function(l){__p&&__p();switch(l.type){case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c("ReactComposerSlideshowActions").previewStateChange(l.composerID,false)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore2(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c("ReactComposerSlideshowActions").previewStateChange(l.composerID,true)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore3(l);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore4(l);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break}});k=this}j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){"use strict";__p&&__p();var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=q===0?c("SlideshowUtil").getMaximumTotalLengthInMS():this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c("SlideshowDataManager").fetchStorylineMoodSource(p,r,function(t){c("ReactComposerSlideshowActions").changeStorylineMoodIDSource(m,t);s=s.set(p,t);c("ReactComposerSlideshowActions").changeStorylineMoodSourceMap(m,s);if(l)l()});n.selectedStorylineMood.source=s.get(p);this.emitChange(m)};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.audioFileUploadInfo.hasError=false;m.selectedMusicCategory=c("SlideshowMusicCategory").USER_UPLOADED;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=true;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n={};c("mergeDeepInto")(n,m);m.editState=n;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){"use strict";__p&&__p();var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c("SlideshowAudioUtil").storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return!c("SlideshowAudioUtil").storylineMoodCompare(o,n)});c("SlideshowDataManager").deleteAudioFile(n.moodID);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l)};j.prototype.getNumberOfImages=function(k){"use strict";c("ReactComposerDispatcher").waitFor([c("ReactComposerSelectedImagesStore").getDispatchToken()]);return c("ReactComposerSelectedImagesStore").getNumberOfImages(k)};j.prototype.getStorylineMoodFiles=function(k){"use strict";return this.getComposerData(k).storylineMoodFiles.toArray()};j.prototype.getRecentlyUsedStorylineMoods=function(k){"use strict";return this.getComposerData(k).recentlyUsedStorylineMoods.toArray()};j.prototype.getSelectedStorylineMood=function(k){"use strict";return this.getComposerData(k).selectedStorylineMood};j.prototype.getStorylineMoodIDToSource=function(k){"use strict";return this.getComposerData(k).storylineMoodIDToSource};j.prototype.getSelectedMusicCategory=function(k){"use strict";return this.getComposerData(k).selectedMusicCategory};j.prototype.getIsPreviewPlaying=function(k){"use strict";return this.getComposerData(k).isPreviewPlaying};j.prototype.getAudioFileUploadInfo=function(k){"use strict";return this.getComposerData(k).audioFileUploadInfo};j.prototype.getTotalLength=function(k,l){"use strict";c("ReactComposerDispatcher").waitFor([c("ReactComposerSlideshowStore").getDispatchToken()]);return c("ReactComposerSlideshowStore").getTotalLength(k,l)};f.exports=new j()}),null);
__d("XReactComposerQAndAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/qanda/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d("ReactComposerQAndALazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQAndAAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerQAndALazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").QANDA},propTypes:{bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.qandaAttachment)this.props.bootloader.qandaAttachment(j);else c("Bootloader").loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,"ReactComposerQAndALazyAttachment.react")},getBootstrapURI:function i(){var j=c("XReactComposerQAndAAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI();return c("ActorURI").create(j,this.context.actorID)}});f.exports=h}),null);
__d("ReactComposerVisualPollLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQuestionAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerVisualPollLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").VISUAL_POLL},propTypes:{additionalTaggers:h.arrayOf(h.shape({button:h.element.isRequired,container:h.element.isRequired})),additionalFooterActions:h.arrayOf(h.element),selected:h.bool,bootload:h.func,bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function j(k){if(this.props.bootload)this.props.bootload(k);else if(this.props.bootloader&&this.props.bootloader.visualPollAttachment)this.props.bootloader.visualPollAttachment(k);else c("Bootloader").loadModules(["ReactComposerVisualPollAttachmentContainer.react","ReactComposerVisualPollPostButtonContainer.react"],k,"ReactComposerVisualPollLazyAttachment.react")},getBootstrapURI:function j(){return c("ActorURI").create(c("XReactComposerQuestionAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=i}),null);
__d("ReactComposerAttachmentPreview.react",["DOMContainer.react","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){"use strict";if(!this.props.markup)return c("React").createElement("noscript",null);return c("React").createElement(c("DOMContainer.react"),null,this.props.markup)};function k(){"use strict";h.apply(this,arguments)}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false,sourceAttachment:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){"use strict";return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","locationID","targetID"]),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",m).setString("location_id",n).setString("target_id",o).getURI();p.pendingRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","objectID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m);this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1],o=this.getComposerData(m);if(n===c("ReactComposerAttachmentType").STATUS||k.proxiedAttachmentID===o.sourceAttachment||o.sourceAttachment===null)return;o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLocationAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEvents","ReactComposerEventAttachmentStore","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerActions","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","CSS","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("ReactComposerWorkFileStore").module,l=c("React").PropTypes,m=[c("ReactComposerEventAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerLocationAttachmentStore"),c("ReactComposerTaggerStore")];if(k)m.push(k);var n=c("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:undefined,_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element,isAttachmentBreaking:l.bool},statics:{calculateState:function o(p,q){__p&&__p();var r,s=c("ReactComposerScrapedAttachmentStore").getMarkup(p),t=c("ReactComposerScrapedAttachmentStore").isReadOnly(p),u=c("ReactComposerMinutiaeAttachmentStore").getMarkup(p),v=c("ReactComposerLocationAttachmentStore").getMarkup(p),w=c("ReactComposerEventAttachmentStore").getMarkup(p),x=c("ReactComposerScrapedAttachmentStore").isScraping(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerLocationAttachmentStore").isFetching(p)||c("ReactComposerEventAttachmentStore").isFetching(p),y=null;if(k)(function(){var D=c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(p),E=k.getSelectedAppsFiles(p).find(function(F){return F.url===D});y=E?E.name:null})();var z=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUN_FACT),A=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUNDRAISER),B=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").ASSET_3D);if(z||A||B){u=null;v=null;w=null;x=c("ReactComposerScrapedAttachmentStore").isScraping(p)}if(B){s=null;x=false}var C=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:C,markup:s||u||w||v,showSpinner:x,showRemoveButton:s&&t,title:y}}},componentDidMount:function o(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){this._maybeRemoveBreakingFromPreview();this._maybeAddBreakingToPreview();var p=this.state.markup&&!this.state.showSpinner?c("React").createElement("div",{"data-testid":"attachment-preview-body",className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return c("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),p)},_handlePrefill:function o(){__p&&__p();var p=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup)c("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig);else if(p.minutiaeAttachment.markup)c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,p.minutiaeAttachment.markup)}else if(p.scrapedURL)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c("React").createElement("div",{className:"_2anf"},c("React").createElement(c("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c("React").createElement("span",{className:"_239x"},this.state.title):null;return c("React").createElement("div",{className:"_239z"},this.props.spinner,c("React").createElement("div",{className:"_3-8y"},p,j._("Fetching preview")))},_setButtonEvent:function o(){__p&&__p();if(this.refs.attachment){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c("Event").listen(p,"click",function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function o(){c("ReactComposerScrapedAttachmentActions").setScrapedAttachment(this.context.composerID,null,{},c("ReactComposerLoggingName").LINK_REMOVE_BUTTON);c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);c("ifRequired")("ReactComposerEventAttachmentActions",function(p){return p.setMarkup(this.context.composerID,null,null)}.bind(this));c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").LINK_REMOVE_BUTTON,c("ReactComposerTaggerType").GIF,{gifData:null});c("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,true)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove()},_maybeAddBreakingToPreview:function o(){__p&&__p();if(!this.state.markup||!this.context.gks[c("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(v){return v.getContentNode(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(v){return v.getDetailsFooterBrandName(p)},function(){return null});if(this.state.isAttachmentBreaking){var s=document.createElement("img");s.setAttribute("class","_649n");s.setAttribute("src","/images/icons/breaking_now-2x.png");if(q&&r){c("CSS").addClass(q,"_649o");c("CSS").addClass(r,"_13j5");r.insertBefore(s,r.firstChild);var t=c("ifRequired")("LitestandShareAttachment",function(v){return v.getDetailsFooterForBreaking(p)},function(){return null});if(t){var u=c("ifRequired")("LitestandShareAttachment",function(v){return v.getTitleNodeForBreaking(p)},function(){return null});if(u){c("CSS").addClass(t,"_1cen");q.removeChild(t);q.insertBefore(t,u)}}}}},_maybeRemoveBreakingFromPreview:function o(){__p&&__p();if(!this.state.markup)return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(u){return u.getDetailsFooterBrandName(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(u){return u.getBreakingNewsIcon(p)},function(){return null});if(q&&q.hasChildNodes&&q.hasChildNodes()&&r){q.removeChild(r);c("CSS").removeClass(q,"_13j5");var s=c("ifRequired")("LitestandShareAttachment",function(u){return u.getDetailsFooterForBreaking(p)},function(){return null});if(s){c("CSS").removeClass(s,"_1cen");var t=c("ifRequired")("LitestandShareAttachment",function(u){return u.getContentNode(p)},function(){return null});if(t){c("CSS").removeClass(t,"_649o");t.removeChild(s);t.appendChild(s)}}}},getHTMLRootNode:function o(){if(!this.state.markup)return null;var p=null;if(typeof this.state.markup.getRootNode==="function")p=this.state.markup.getRootNode();return p}});f.exports=n}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{state:j.UNKNOWN}},function(m){switch(m.type){case c("ReactComposerMarkdownActionType").SHOW_INTERCEPT:l&&l.$ReactComposerMarkdownStore1(m);break;case c("ReactComposerMarkdownActionType").HIDE_INTERCEPT:l&&l.$ReactComposerMarkdownStore2(m);break;case c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore3(m);break;case c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore4(m);break}});l=this}k.prototype.showIntercept=function(l){return this.getComposerData(l).state===j.CHECKING};k.prototype.interceptAttempted=function(l){var m=this.getComposerData(l),n=m.state;return n===j.ENABLED||n===j.DISABLED};k.prototype.isMarkdownEnabled=function(l){return this.getComposerData(l).state===j.ENABLED};k.prototype.$ReactComposerMarkdownStore1=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.CHECKING;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore2=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.UNKNOWN;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore3=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.ENABLED;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore4=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.DISABLED;this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ReactComposerMarkdownStore");h.prototype.showIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};h.prototype.hideIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};h.prototype.enableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};h.prototype.disableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function h(){}f.exports=new h()}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){"use strict";return c("React").createElement("span",{className:"_jsa"})};l.prototype.render=function(){"use strict";var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":"")+" _jsc";return c("React").createElement(c("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c("SearchableEntry")).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d("ReactComposerPhotoTaggerButton.react",["cx","fbt","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerMediaUtils","TooltipLink.react","VideoUploadConfig","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPhotoTaggerButton",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{photoLimit:j.number.isRequired,hasData:j.bool,selected:j.bool,multimediaNuxShown:j.bool,onNUXCloseButtonClick:j.func},getDefaultProps:function l(){return{hasData:false,selected:false}},render:function l(){var m=c("joinClasses")("_2vwi _lnh"+(this.props.hasData?" _6xe":""),this.props.className),n=this._renderMultimediaAttachmentsNux(),o=void 0,p=this.props.photoLimit>1,q=c("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(p)if(q)o=i._("Add photos and videos to your post");else o=i._("Add photos or a video to your post");else o=i._("Add a photo or a video to your post");return c("React").createElement(c("TooltipLink.react"),{className:"_3xem","data-testid":"react-composer-photo-tagger",onClick:this._onSelect,tooltip:o},c("React").createElement("span",{className:"accessible_elem"},this.props.photoLimit>1?i._("Add photos"):i._("Add photo")),c("React").createElement("div",{className:m}),n)},_renderMultimediaAttachmentsNux:function l(){return c("React").createElement(c("XUIAmbientNUX.react"),{position:"below",width:"custom",contextRef:function(){return this.refs.fileInput}.bind(this),customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},i._("You can now add photos and videos to the same post."))}});f.exports=k}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"})}),null);
__d("ComposerSharingSpacesEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_SPACES_SHARESHEET_NEXT:"COMPOSER_SPACES_SHARESHEET_NEXT",COMPOSER_SPACES_SHARESHEET_BACK:"COMPOSER_SPACES_SHARESHEET_BACK",COMPOSER_SPACES_SHARESHEET_POST:"COMPOSER_SPACES_SHARESHEET_POST",COMPOSER_SPACES_SPACE:"COMPOSER_SELECT_SPACE",COMPOSER_SELECT_SPACE_CHOOSE:"COMPOSER_SELECT_SPACE_CHOOSE",COMPOSER_SELECT_SPACE_NEW:"COMPOSER_SELECT_SPACE_NEW",COMPOSER_SELECT_SPACE_NEW_CLICK:"COMPOSER_SELECT_SPACE_NEW_CLICK",COMPOSER_SELECT_SPACE_LOADED:"COMPOSER_SELECT_SPACE_LOADED",COMPOSER_SELECT_TIMELINE_CHOOSE:"COMPOSER_SELECT_TIMELINE_CHOOSE"})}),null);
__d("ExtensibleSproutsLayoutStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPANDED_DEFAULT:"expanded_default",COLLAPSED:"collapsed",FULL_SCREEN:"full_screen",EXPANDED:"expanded"})}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"})}),null);
__d("ReactComposerPerfLogger",["ComposerType","ComposerXSessionIDs","MarauderLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=c("ComposerType").STATUS,j={logEvent:function k(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c("ComposerXSessionIDs").getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true}var q=babelHelpers["extends"]({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c("MarauderLogger").log(l,"composer",q,undefined,undefined,p)},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}}},getInstance:function k(l){return h[l]}};f.exports=j}),null);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerEntryPointRef","ComposerPerfEvent","ComposerWaterfallEvent","ComposerXMarauderLogger","ComposerXSessionIDs","FacerecWaterfallEvent","immutable","PhotosUploadWaterfallXMixin","PhotoUploadFacerecWaterfallTypedLogger","PUWApplications","PUWMethods","PUWSteps","ReactComposerActionTypes","ReactComposerAlbumActionType","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ComposerSharingSpacesEvent","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactComposerSproutsDisplayState","ExtensibleSproutsItemType","ExtensibleSproutsLayoutStateType","SATPPresetCollection","classWithMixins","ifRequired","mixin","nullthrows","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("classWithMixins")(c("ReactComposerStoreBase"),c("mixin")(c("PhotosUploadWaterfallXMixin"))));j=i&&i.prototype;function k(){var l=void 0;j.constructor.call(this,function(){return{activated:false,perfTimes:{},sessionID:null,uniqueEvents:c("immutable").Map([[c("PUWSteps").CLIENT_PUBLISH_SUCCESS,false],[c("PUWSteps").CLIENT_FLOW_SUCCESS,false]])}},function(m){l&&l.handler(m)});l=this}k.prototype.handler=function(l){__p&&__p();if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c("ReactComposerAlbumActionType").CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore38(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore39(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore40(l);break;case c("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore41(l);break;case c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore42(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore43(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore44(l);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore45(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore46(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore47(l);break;case c("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED:this.$ReactComposerLoggingStore48(l);break;case c("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED:this.$ReactComposerLoggingStore49(l);break;default:}};k.prototype.getSessionID=function(l){return c("ComposerXSessionIDs").getSessionID(l)};k.prototype.isActivated=function(l){return this.getComposerData(l).activated};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c("ReactComposerLoggingQueue").getLength()>0)this.$ReactComposerLoggingStore50()};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}})};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore52(n,o,p)};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore53(n,o,p)};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore54(n,o,p)};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,"composerID");if(c("ReactComposerAttachmentStore").isSelectedAttachmentActive(m))this.$ReactComposerLoggingStore2(l);if(l.loggingName&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),l.loggingName)){var n=this.validateAction(l,"sproutSurface");this.$ReactComposerLoggingStore52(m,l.loggingName,l.loggingName,n)}};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootloadDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootstrapDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").ALBUM_INTENT)};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MEDIA,o);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").MEDIA_INTENT);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN)};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ExtensibleSproutsItemType").MEDIA,o)};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_ADD);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_BEGIN,o)};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_FAIL,o)};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_FAIL,o)};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PROCESS_UNAVAILABLE)};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,["composerID","fileUpload"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size})};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,["composerID","fileUpload","timeToUpload"]),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))q=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width})};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,["composerID","fileUpload","error","timeToUpload"]),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))r=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width})};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA);this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_CANCEL)};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_ADD)};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore53(n,q,p)};k.prototype.$ReactComposerLoggingStore24=function(l){__p&&__p();var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1],p=c("ReactComposerTaggerStore").getSelectedTagger(n),event=null;switch(p){case c("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").WITH_TAG,o);event=c("ComposerWaterfallEvent").FRIEND_TAG_INTENT;break;case c("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").LOCATION,o);event=c("ComposerWaterfallEvent").LOCATION_INTENT;break;case c("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MINUTIAE,o);event=c("ComposerWaterfallEvent").MINUTIAE_INTENT;break;case c("ReactComposerTaggerType").MARKDOWN:event=c("ComposerWaterfallEvent").MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore58(p);if(q)this.$ReactComposerLoggingStore52(n,q,o);break}if(event===null)return;this.$ReactComposerLoggingStore51(n,event)};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore57(n,q,p)};k.prototype.$ReactComposerLoggingStore26=function(l){__p&&__p();var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.perfTimes.postStartTime=c("performanceAbsoluteNow")();this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST);if(this.$ReactComposerLoggingStore59(m)){this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore60(m));c("ReactComposerPhotoStore").getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log()})})}this.$ReactComposerLoggingStore61(m,"post")};k.prototype.$ReactComposerLoggingStore27=function(l){__p&&__p();var m,n=this,o=this.validateAction(l,"composerID"),p=this.getComposerData(o);this.$ReactComposerLoggingStore51(o,c("ComposerWaterfallEvent").COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(o),duration:c("performanceAbsoluteNow")()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(o)){var q=this.$ReactComposerLoggingStore60(o);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_FLOW_SUCCESS);var r=c("ReactComposerPhotoStore").getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++});if(s>0)c("Bootloader").loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||"",surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s})}.bind(n),"ReactComposerLoggingStore")})()}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore55(m,c("ComposerPerfEvent").CLIENT_POST_FAILED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),duration:c("performanceAbsoluteNow")()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore60(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_FAIL,p)}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,["composerID","numPhotos","method"]),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c("PUWMethods").FILE_SELECTOR)this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_SUCCESS,q)};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_BEGIN)};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_SUCCESS)};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_MANUAL_RETRY)};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,["photoID","facebox"]),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log()};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,["photos","facerecWaterfallEvent"]),n=m[0],o=m[1];n.forEach(function(p){new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("nullthrows")(o)).setPhotoFbid(p).log()})};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").LINK,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").PRIVACY,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_CANCEL)};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore61(m,"cancel");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").NAVIGATE_AWAY)};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore57(n,c("ReactComposerFeatureType").COLLECTIONS,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore46=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase())};k.prototype.$ReactComposerLoggingStore47=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","isCancel"]),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore54.bind(this):this.$ReactComposerLoggingStore53.bind(this);q(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore48=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","spaceCount"]),n=m[0],o=m[1],p=m[2];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{space_count:p}})};k.prototype.$ReactComposerLoggingStore49=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,["composerID","visibilityMap","event","sproutsState"]),n=m[0],o=m[1],event=m[2],p=m[3];this.$ReactComposerLoggingStore51(n,event,{extraData:{sprouts_visibilities:o,state:p===c("ReactComposerSproutsDisplayState").INLINE?c("ExtensibleSproutsLayoutStateType").COLLAPSED:c("ExtensibleSproutsLayoutStateType").EXPANDED_DEFAULT,promoted_sprout_name:l.promotedSprout,promotion_id:l.promotionID}})};k.prototype.$ReactComposerLoggingStore59=function(l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO);return m&&!!n.size};k.prototype.$ReactComposerLoggingStore60=function(l){var m=c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[],n=c("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(l);return{volume:c("ReactComposerPhotoStore").getPhotos(l).size,with_tag_count:m.length,sticker_count:n}};k.prototype.$ReactComposerLoggingStore52=function(l,m,n,o){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_INTENT,{extraData:babelHelpers["extends"]({feature_type:m,source:n},o&&{sprout_surface:o})})};k.prototype.$ReactComposerLoggingStore57=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_UPDATE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore54=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_CANCEL,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore53=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_DONE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore51=function(l,event){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}if(c("ReactComposerStore").getRef(l)===c("ComposerEntryPointRef").RECENT_POSTS)c("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData("payload",JSON.stringify(this.$ReactComposerLoggingStore62(l))).addToExtraData("message",c("ReactComposerStatusStore").getMessageText(l)).log()}.bind(this),"ReactComposerLoggingStore");m.extraData=Object.assign({is_markdown_enabled:!!c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore62(l),ordered_sprouts:c("ReactComposerStore").getOrderedSprouts(l),ranker_request_id:c("ReactComposerStore").getRankerRequestID(l),sprout_surface:c("ReactComposerStore").getSproutSurface(l)},m.extraData);c("ComposerXMarauderLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore55=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}c("ReactComposerPerfLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore56=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true)}this.logPUWStep(m,this.getSessionID(l),c("PUWApplications").WEB_REACT_COMPOSER,c("ReactComposerStore").getRef(l),n,o,p)};k.prototype.$ReactComposerLoggingStore50=function(){while(c("ReactComposerLoggingQueue").getLength()>0){var l=c("ReactComposerLoggingQueue").pop();this.handler(l)}};k.prototype.$ReactComposerLoggingStore62=function(l){return{character:c("ReactComposerStatusStore").getTextLength(l),location_tag:c("ReactComposerTaggerStore").hasLocationTag(l),implicit_location:c("ReactComposerTaggerStore").hasImplicitLocation(l),minutiae:c("ReactComposerTaggerStore").hasMinutiae(l),with_who_tag:c("ReactComposerTaggerStore").getNumberOfWithWhoTags(l),photo:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(l),three_sixty_photo:c("ReactComposerMediaUploadStore").getSphericalPhotoCount(l),asset_3d:c("ReactComposerTaggerStore").hasData(l,c("ReactComposerTaggerType").ASSET_3D)?1:0,video:c("ReactComposerMediaUploadStore").getUploadsCount(l,c("ReactComposerMediaUploadType").VIDEO),shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(l)?1:0,backdated:c("ReactComposerTaggerStore").hasBackdate(l)?c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").BACKDATE):null,audience:c("ReactComposerAudienceStore").getAudience(l),collection:c("ReactComposerAudienceStore").getCollectionID(l)}};k.prototype.$ReactComposerLoggingStore58=function(l){__p&&__p();switch(l){case c("ReactComposerTaggerType").PEOPLE:return c("ExtensibleSproutsItemType").WITH_TAG;case c("ReactComposerTaggerType").LOCATION:return c("ExtensibleSproutsItemType").LOCATION;case c("ReactComposerTaggerType").ACTIVITY:return c("ExtensibleSproutsItemType").MINUTIAE;case c("ReactComposerTaggerType").MARKDOWN:return c("ExtensibleSproutsItemType").MARKDOWN;case c("ReactComposerTaggerType").BACKDATE:return c("ExtensibleSproutsItemType").BACKDATE;case c("ReactComposerTaggerType").SPONSOR:return c("ExtensibleSproutsItemType").SPONSOR_TAG;case c("ReactComposerTaggerType").PRODUCT:return c("ExtensibleSproutsItemType").TAG_PRODUCT;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerFeatureType").PAGE_CTA;case c("ReactComposerTaggerType").FORMATTED_TEXT:return c("ExtensibleSproutsItemType").TEXT_BACKGROUND;case c("ReactComposerTaggerType").ISSUE_TAG:return c("ReactComposerFeatureType").ISSUE_TAG;case c("ReactComposerTaggerType").STICKER:return c("ExtensibleSproutsItemType").STICKER;case c("ReactComposerTaggerType").GIF:return c("ExtensibleSproutsItemType").GIF;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerFeatureType").MESSAGING;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return c("ExtensibleSproutsItemType").CONTACT_YOUR_REPRESENTATIVE;case c("ReactComposerTaggerType").FUN_FACT:return c("ExtensibleSproutsItemType").FUN_FACT;case c("ReactComposerTaggerType").FUNDRAISER:return c("ExtensibleSproutsItemType").FUNDRAISER;case c("ReactComposerTaggerType").ALBUM:return c("ReactComposerFeatureType").ALBUM;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ExtensibleSproutsItemType").VISUAL_POLLS;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ExtensibleSproutsItemType").RECOMMENDATION;case c("ReactComposerTaggerType").SALES_PROMO:return c("ExtensibleSproutsItemType").SALES_PROMO;case c("ReactComposerTaggerType").TAG_EVENT:return c("ExtensibleSproutsItemType").TAG_EVENT;case c("ReactComposerTaggerType").BREAKING_NEWS:return c("ReactComposerFeatureType").BREAKING_NEWS;case c("ReactComposerTaggerType").ASSET_3D:return c("ReactComposerFeatureType").ASSET_3D;default:return null}};k.prototype.$ReactComposerLoggingStore61=function(l,m){c("ifRequired")("ReactComposerFormattedTextStore",function(n){var o=n.getTextFormatPresetID(l)||n.getPrevSelectedTextFormatPresetID(l),p=n.getTrackingString(l);if(o)c("ifRequired")("SATPInteractionsTypedLogger",function(q){new q().setTrackingString(p).setUserActionString(m).setPresetID(o).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()})})};f.exports=new k()}),null);
__d("ReactComposerPromptsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null,SET_MEME_CATEGORY_ID:null},"ReactComposerPromptsActionTypes")}),null);
__d("ReactComposerPromptsStore",["ReactComposerPromptsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{promptData:null,promptXHP:null}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){"use strict";__p&&__p();switch(k.type){case c("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;case c("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID:this.$ReactComposerPromptsStore4(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","minutiaeData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n};j.prototype.getMinutiaeData=function(k){"use strict";return this.getComposerData(k).minutiaeData};j.prototype.$ReactComposerPromptsStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","promptData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n};j.prototype.getPromptData=function(k){"use strict";return this.getComposerData(k).promptData};j.prototype.$ReactComposerPromptsStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","promptXHP"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m)};j.prototype.getPromptXHP=function(k){"use strict";return this.getComposerData(k).promptXHP};j.prototype.$ReactComposerPromptsStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","memeCategoryID"]),m=l[0],n=l[1],o=this.getComposerData(m);o.memeCategoryID=n};j.prototype.getMemeCategoryID=function(k){"use strict";return this.getComposerData(k).memeCategoryID};f.exports=new j()}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter",COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION:"composer_custom_accessibility_caption"})}),null);
__d("ReactComposerPostDataUtils",["ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerPromptsStore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerXMarauderLogger","flattenPHPQueryData","ifRequired","isNumberLike","PlaceAttachmentSetting","PhotoEditorLoggingConstants","PhotoEditorSaveStates","PhotosUploadWaterfallApplications","PUWApplications","QuestionPollTypeJSEnum","SlideshowUtil"],(function aa(ba,a,ca,da,ea,fa){__p&&__p();var ga={getPostData:function b(c){__p&&__p();var d=c.composerID,e=c.targetID,f=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PEOPLE)||[],g=[];f.forEach(function($){g.push($.getUniqueID())});var h=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PRODUCT)||[];h=h.filter(function($){return!$.getAuxiliaryData().isFacebox});var i=h.map(function($){return $.getUniqueID()}),j=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ISSUE_TAG)||[],k=j.map(function($){return $.getUniqueID()}),l=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),m=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").TAG_EVENT),n=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ACTIVITY),o=[],p=[],q=[],r=void 0;if(n&&n.action&&n.object){o.push(n.action.getUniqueID());r=n.actionIconID;if(a("isNumberLike")(n.object.getUniqueID())&&n.object.getUniqueID()!==n.object.getTitle()){p.push(n.object.getUniqueID());q.push("")}else q.push(n.object.getTitle())}else if(l.politicalRepresentative)a("ifRequired")("ContactYourRepresentativeConsts",function($){o.push($.composer_action_id);p.push(l.politicalRepresentative.getUniqueID());q.push("")});else if(m&&m.eventID)a("ifRequired")("TagEventSproutConsts",function($){o.push($.composer_action_id);p.push(m.eventID);q.push("")});var s=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").STICKER),t=s&&s.stickerID?s.stickerID:0,u=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ASSET_3D),v=a("ReactComposerTaggerStore").isDisabled(d,a("ReactComposerTaggerType").ASSET_3D),ha=u&&u.asset3dID&&!v?u.asset3dID:null,ia=a("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(d),ja=a("ifRequired")("ReactComposerLocationAttachmentStore",function($){return $.getMarkup(d)!==null?a("PlaceAttachmentSetting").SHOW_ATTACHMENT:a("PlaceAttachmentSetting").HIDE_ATTACHMENT},function(){return a("PlaceAttachmentSetting").HIDE_ATTACHMENT}),w=[],x=[],y="";a("ifRequired")("ReactComposerMultilingualStatusStore",function($){w=$.getMessages(d);x=$.getLanguageDialects(d);y=$.getSpecifiedPostLanguage(d)});var z=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").FUN_FACT),A=null,B=null;if(z)if(z.promptID)A=z.promptID;else B=z.askedPromptID;var C=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").FUNDRAISER),ka=C?C.charityID:null,D=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").LOCATION),E=a("ReactComposerEventAttachmentStore").getEventID(d),F=D?D.place:null,G=void 0;if(a("ReactComposerTaggerStore").hasBackdate(d)){var H=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").BACKDATE);G={year:this._sanitizeDateField(H.year),month:this._sanitizeDateField(H.month),day:this._sanitizeDateField(H.day),hour:this._sanitizeDateField(H.hour),minute:this._sanitizeDateField(H.minute)}}var I=D&&D.implicitLocation?D.implicitLocation.citypageid:null,J=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").SPONSOR)||{},K={directShareStatus:J.directShareStatus,sponsorRelationship:J.sponsorRelationship,sponsors:[]};J.sponsors.map(function($){K.sponsors.push($.getUniqueID())});var L=a("ReactComposerAudienceStore").getCollectionID(d),M=null;if(!L){var N=a("ReactComposerAudienceStore").getLegacyAudience(d);if(N)M=[{value:N}]}var O=c.useHints,P=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").TARGETING),Q=P&&!L?O?P.hints:P.targeting:null;if(Q!=null){if(!O&&Q.fan_of)Q.fan_of=Q.fan_of.map(function($){return $.id});a("ifRequired")("AdsAPITargetFields",function($){if($&&Q&&O&&Q[$.INTERESTS])Q[$.INTERESTS]=Q[$.INTERESTS].map(function(Da){return Da.id})})}var la=P&&!L?P.gating:null;if(c.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!Q)Q={};Q["relevant-until-date"]=c.composerConfig.contextInfo.stopFeedDistributionDateFormatted;Q["relevant-until-time"]=c.composerConfig.contextInfo.stopFeedDistributionTimeFormatted}var R=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);if(R)if(R.showStart==1&&R.showEnd==100||R.showStart==null&&R.showEnd==null)R=null;else R={showStart:R.showStart,showEnd:R.showEnd};var ma=a("ifRequired")("PagesComposerBoostedPostsStore",function($){return $.getConfig(d)},function(){return null}),S=a("ReactComposerScrapedAttachmentStore").getAttachmentConfig(d);if(S===null){a("ifRequired")("ReactComposerCTAStore",function($){S=$.getAttachmentConfig(d)});if(S===null)a("ifRequired")("ReactComposerCollectionStore",function($){S=$.getAttachmentConfig(d)})}var T=a("ReactComposerTaggerStore").hasData(d,a("ReactComposerTaggerType").BREAKING_NEWS),U=0;if(T)U=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").BREAKING_NEWS).expirationTime;if(T&&S&&S.params.url){S.params.breaking_news_selected=T;S.params.breaking_news_expiration=U}var V=a("ReactComposerTaggerStore").hasMarkdown(d);a("ifRequired")("ReactComposerMarkdownStore",function($){V=V||$.isMarkdownEnabled(d)});var na=a("ifRequired")("ReactComposerPostToGroupStore",function($){return $.getIsTabSelected(d)},function(){return false}),oa=a("ReactComposerTaggerStore").getPoliticalDistrictInfo(d),W=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").CONTENT_WARNINGS);if(W!=null)W=W.map(function($){return $.getUniqueID()});var pa=null;a("ifRequired")("ReactComposerTopicFeedsTaggerStore",function($){if(!$.getIsDarkLaunch(d))pa=$.getTaggedTopics(d).toArray()});var qa=null;a("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function($){qa=$.getPostTagIDs(d)});var X=a("ReactComposerPromptsStore").getPromptData(d),ra=a("ReactComposerSessionMetricsStore").getComposerStartTime(d),sa=null;if(ra)sa=Math.round((Date.now()-ra)/1e3);var ta=false;a("ifRequired")("ReactComposerProfileBadgeStore",function($){ta=$.hasProfileBadge(d)});var Y=a("ComposerXMarauderLogger").getInstance(d),ua=Y&&Y.composerSourceSurface,Z=c.composerConfig.attachmentsConfig&&c.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS],va=Z&&Z.richTextEditor,wa=false;if(Z&&Z.isWelcomeToGroupPost)wa=true;var xa=L?null:a("ReactComposerAudienceStore").getAudience(d),ya=null;a("ifRequired")("ReactComposerFindPlayersStore",function($){ya={title:$.getTitle(d),tags:$.getTags(d),name:$.getName(d)}});var za=null;if(a("ReactComposerStore").getRankerRequestID(d))za={RequestID:a("ReactComposerStore").getRankerRequestID(d)};var Aa=null,Ba=S&&S.readOnly;if(Ba)Aa={xc_disable_link:Ba};var Ca=null;a("ifRequired")("ReactComposerCivicEngagementStore",function($){Ca=$.getCivicProductSource(d)});return Object.assign(babelHelpers["extends"]({},a("ReactComposerStatusStore").getRichTextBlocks(d),{action_type_id:o,album_id:L,asset3d_id:ha,asked_fun_fact_prompt_id:B,attachment:S,audience:M,backdated_date:G,boosted_post_config:ma,breaking_news_expiration:U,breaking_news_selected:T,charity_id:ka,composer_entry_time:a("ReactComposerSessionMetricsStore").getComposerEntryTime(d),composer_session_id:a("ReactComposerLoggingStore").getSessionID(d),composer_session_duration:sa,composer_source_surface:ua,composer_type:Y&&Y.composerType,composertags_city:I,composertags_issues:k,composertags_place:F&&F.getUniqueID()||I,composertags_place_name:F&&F.getTitle(),composertags_with:g,composertags_sponsors:K.sponsors,civic_product_source:Ca,direct_share_status:K.directShareStatus,sponsor_relationship:K.sponsorRelationship,composertags_product_items:i,content_warnings:W,extensible_sprouts_ranker_request:za,feed_targeted_data:Q,feed_topics:pa,find_players_info:ya,fun_fact_prompt_id:A,group_post_tag_ids:qa,hide_object_attachment:ia,icon_id:r,is_explicit_place:!!F,is_markdown:V,is_post_to_group:na,is_welcome_to_group_post:wa,is_q_and_a:a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,a("ReactComposerAttachmentType").QANDA),is_profile_badge_post:ta,political_district_info:oa,story_list_attachment_data:this._getListAttachmentData(d),multilingual_statuses:w,multilingual_status_langs:x,multilingual_specified_lang:y,num_keystrokes:a("ReactComposerSessionMetricsStore").getKeystrokeCount(d),num_pastes:a("ReactComposerSessionMetricsStore").getPasteCount(d),object_id:p,object_str:q,place_attachment_setting:ja,poll_question_data:this._getVisualPollAttachmentData(d),privacyx:xa,prompt_id:X?X.promptID:null,prompt_tracking_string:X?X.trackingString:null,publisher_abtest_holdout:R,ref:a("ReactComposerStore").getRef(d),xc_sticker_id:t,event_tag:E&&{event_id:E},tagger_session_id:D&&D.sessionID,target_type:a("ReactComposerStore").getTargetType(d),targeted_privacy_data:la,xhpc_message:a("ReactComposerStatusStore").getMessage(d,va&&!V),xhpc_message_text:a("ReactComposerStatusStore").getMessageText(d),is_forced_reshare_of_post:S&&S.reshare_original_post,xc_disable_config:Aa}),this._getScrapedAttachmentData(S),a("ReactComposerPostUtilsCore").getCoreData(d,c.composerConfig.contextInfo,e))},getMediaUploadsData:function b(c,d){var e=a("ReactComposerPhotoStore").getPhotos(c);d=d.filter(function(f){return f.mediaType===a("ReactComposerMediaUploadType").VIDEO?true:e.some(function(g){return g.id===f.photoID})});return this.getMediaDataWithoutFiltering(c,d)},getMediaDataWithoutFiltering:function b(c,d){var e=d.map(function(j){return j.photoID}).toArray(),f=d&&d.size>0?d.first().holidayCardID:null,g=f!==null?{holiday_card_id:f,source:"promo"}:null,h=a("ReactComposerSlideshowStore").isSlideshowSelected(c),i=null;if(h)i=this._getSlideshowSpec(c);return Object.assign({application:a("PhotosUploadWaterfallApplications").COMPOSER,composer_unpublished_photo:e,qn:a("ReactComposerLoggingStore").getSessionID(c),slideshow_spec:i,waterfallxapp:a("PUWApplications").WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(c),holiday_card:g},this._getCreativeEditingToolsData(d))},_sanitizeDateField:function b(c){return!c||c===-1||c===0?null:c},_getSlideshowSpec:function b(c){var d=a("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(c),e=null;if(d!=null)e=d.moodID;var f=a("ReactComposerSlideshowStore").getDurationInMS(c),g=a("ReactComposerSlideshowStore").getTransitionInMS(c),h=a("ReactComposerSelectedImagesStore").getNumberOfImages(c),i=a("SlideshowUtil").getTotalLengthInSec(f,h),j=a("SlideshowUtil").getDurationParam(h,i,g);return{photo_ids:a("ReactComposerSelectedImagesStore").getPhotoIDs(c),images_crops:a("ReactComposerSelectedImagesStore").getImagesCrops(c),photo_duration:j.durationInMS,photo_transition_duration:j.transitionInMS,storyline_mood_id:e}},_getXYTagData:function b(c){var d=a("ReactComposerPhotoStore").getAllTaggedFaceboxes(c).map(function(f){return{fbid:f.get("photoID"),x:f.get("x"),y:f.get("y"),name:f.get("taggedValue"),subject:f.get("taggedSubjectID"),from_facebox:true,source:f.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}}),e=a("ReactComposerPhotoStore").getAllXYTags(c).map(function(f){return{fbid:f.get("photoID"),x:f.get("x"),y:f.get("y"),name:f.get("name"),subject:f.get("subject"),from_facebox:f.get("from_facebox"),source:f.get("source")}});return d.concat(e)},_getCreativeEditingToolsData:function b(c){__p&&__p();var d={},e={},f={},g={},h={};c.forEach(function(j){var k=j.get("photoID"),l=a("PhotoEditorSaveStates").getLoggingData(j.get("originalPhotoID"));if(l){d[k]=l.hasFilter?true:null;e[k]=l.hasCrop?true:null;f[k]=l.textOverlays;g[k]=l.stickers;if(l.customAccessibilityCaption)h[k]=l.customAccessibilityCaption}});var i={};i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_FILTER]=d;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_CROP]=e;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION]=h;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_TEXT_OVERLAY]=f;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_STICKER]=g;return i},_getScrapedAttachmentData:function b(c){if(!c||!c.params||c.readOnly)return null;return{xc_share_params:JSON.stringify(c.params),xc_share_target_type:c.type,xc_share_images:c.params.images,xc_share_title:c.params.title,xc_share_summary:c.params.summary,xc_link_url:c.params.url}},_getListAttachmentData:function b(c){__p&&__p();var d=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,a("ReactComposerAttachmentType").LIST),e=null;if(d)a("ifRequired")("ReactComposerListStore",function(f){var g=f.getListTitle(c),h=g.getCurrentContent().getPlainText().trim(),i=f.getListItems(c),j=f.getSelectedListStyle(c),k=f.getSelectedListColor(c),l=f.getListColors(c),m=f.getListPrompts(c),n=f.getSelectedListPrompt(c),o=n!==-1?m[n].prompt_id:null,p=[];i.forEach(function(q){var r=q.getCurrentContent().getPlainText();if(r.trim().length>0)p.push({description:r.trim()})});e={original_list_id:null,create_story_list_action_link:null,list_style:j,title:h,items:p,prompt_id:o,text_format_preset_id:l[k].preset_id}});return e},_getVisualPollAttachmentData:function b(c){__p&&__p();var d=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,a("ReactComposerAttachmentType").VISUAL_POLL),e=null;if(d)a("ifRequired")("ReactComposerQuestionStore",function(f){__p&&__p();var g=f.isRelativeEndTime(c),h=f.getVisualPollEndTimeInMillis(c),i=true,j=0,k=0;if(g)k=h/1e3;else j=h/1e3;var l=f.getVisualPollNumOptions(c),m=f.getVisualPollOptionTexts(c),n=f.getVisualPollOptionGifUrls(c),o=a("ReactComposerMediaUploadStore").getUploads(c),p=this.getMediaUploadsData(c,o).composer_unpublished_photo,q=f.getVisualPollOptionImageIndices(c),r=[],s=0,t=0;for(var u=0;u<l;u++){r.push({});if(u<m.length&&m[u])r[u].text=m[u];else i=false;if(u<n.length&&n[u]){r[u].external_image_url=n[u];s+=1}else if(u<q.length&&q[u]>=0&&q[u]<p.length){r[u].associated_image_id=p[q[u]];t+=1}}var v=s+t===r.length?a("QuestionPollTypeJSEnum").GIF_CHOOSE_ONE:a("QuestionPollTypeJSEnum").VISUAL_TEXT_CHOOSE_ONE;if(i)e={text:a("ReactComposerStatusStore").getMessage(c),question_type:v,poll_end_time:j,relative_poll_end_time:k,options:r}}.bind(this));return e},createFormData:function b(c){__p&&__p();var d={};Object.keys(c).forEach(function(g){__p&&__p();if(c[g]!==undefined&&c[g]!==null){var h=c[g]instanceof Object;if(!h)d[g]=c[g];else{var i=!Object.values(c[g]).every(function(j){return j===undefined||j===null});if(i)d[g]=c[g]}}});var e=new FormData(),f=a("flattenPHPQueryData")(d);Object.keys(f).forEach(function(g){e.append(g,f[g])});return e},getGroupMeetupData:function b(c){var d=null;a("ifRequired")("ReactComposerGroupMeetUpStore.react",function(e){d={meet_up_location_page:e.getPageID(c),meet_up_date_string:e.getDateString(c),meet_up_day_time:e.getDayTime(c),meet_up_rough_time:e.getRoughTimeID(c)}});return{meetup_info:d}}};ea.exports=ga}),null);
__d("RedEnvelopeActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK_GLYPH:"click_glyph",CLICK_POST_BUTTON:"click_post_button",CREATE_GIFT:"create_gift",PROCESS_PAY:"process_pay",OPEN:"open",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",CANCEL_SCHEDULED:"cancel_scheduled",START_TO_CANCEL:"start_to_cancel",CANCEL:"cancel",CANCEL_STOPPED:"cancel_stopped",REOPEN:"reopen",CLICK_CREATE_BUTTON:"click_create_button",CLICK_PAY_BUTTON:"click_pay_button",CLICK_CANCEL_BUTTON:"click_cancel_button",ADD_CARD_REDIRECT:"add_card_redirect",ADD_CARD:"add_card",CLICK_ACCEPT:"click_accept",ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",CLICK_SEE_DETAILS:"click_see_details"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/react_composer/cta/publish/",{page_id:{type:"FBID",required:true},message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType",required:true},referrer:{type:"String"},schedule_time:{type:"Int"},draft:{type:"Bool",defaultValue:false},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:false},offer_data:{type:"HackType"}})}),null);
__d("XRedEnvelopeCreationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/red_envelope/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:true,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:true},group_id:{type:"FBID"},owner_id:{type:"FBID",required:true},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:false},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/save/",{v:{type:"Int",required:true}})}),null);
__d("textProbablyWritingMarkdown",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;function i(j){__p&&__p();if(j.length>h)j=j.slice(0,h);var k=j.match(/^[*+-] /gm);if(k&&k.length>1)return true;var l=j.match(/`/);if(l)return true;var m=j.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(m)return true;var n=j.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(n)return true;var o=j.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(o)return true;var p=j.match(/\]\(|\]\[/);if(p)return true;return false}f.exports=i}),null);
__d("ReactComposerPostUtils",["invariant","ActorURI","Arbiter","ComposerEntryPointRef","ComposerPublisher","DateConsts","HTML","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","RedEnvelopeActionType","RedEnvelopeActionTypedLogger","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XPagesComposerCustomCTAPublishAsyncController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XRedEnvelopeCreationController","XRedEnvelopeSaveController","XSalesPromoCreateAsyncController","XVideoEditDialogSaveController","formatDate","ifRequired","textProbablyWritingMarkdown"],(function aa(ba,a,ca,da,ea,fa,b){__p&&__p();var c=a("ReactComposerWorkFileStore").module,d=!!c,e=c||a("ReactComposerFileStore"),ga={publish:function f(g,h){__p&&__p();a("ReactComposerActions").publishStarted(g);h=h||{};h.composer_id=g;if(h.streamNode)h.streamStory=h.streamNode;else if(h.streamMarkup)h.streamStory=a("HTML")(h.streamMarkup).getRootNode();if(h.contentID)h.matchData={content_id:h.contentID};a("Arbiter").inform("composer/publish",h)},isPostButtonDisabled:function f(g,h){var i=a("ReactComposerPhotoStore").isLimitExceeded(g,h),j=a("ReactComposerMediaUploadStore").isUploading(g),k=a("ReactComposerPhotoStore").isRecognizing(g),l=!!a("ReactComposerVideoUploadStore").getVideo(g)&&a("ReactComposerStore").isPosting(g),m=a("ReactComposerPhotoStore").isSphericalPhotoUpdating(g);return i||j||k||l||m},_getIsOnMediaAttachment:function f(g){var h=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(g,a("ReactComposerAttachmentType").MEDIA),i=a("ReactComposerAttachmentStore").getIsAttachmentSelected(g,a("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return h||i},_setupGenericDataFromStore:function f(g,h){a("ifRequired")("ReactComposerStatusDonateButtonStore",function(i){if(i.getEnabled(h))Object.assign(g,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:i.getFundraiserCampaignID(h),link_title:i.getTitle(h),link_description:i.getDescription(h)}}})});a("ifRequired")("ReactComposerCTAStore",function(i){var j=i.getCTAData(h);if(j&&j.type==="MESSAGE_PAGE")Object.assign(g,{cta_data:j})})},_setupDataForPlaceListAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PLACE_LIST);if(i)a("ifRequired")("ReactComposerPlaceListStore.react",function(j){Object.assign(g,{is_placelist_post:true,placelist_within_page:j.getPageID(h),should_redirect_place_list_on_create:j.getShouldRedirectOnCreate(h)});if(j.getGroupID(h))Object.assign(g,{target_id:j.getGroupID(h),xhpc_targetid:j.getGroupID(h)})})},_setupDataForFormattedText:function f(g,h){a("ifRequired")("ReactComposerFormattedTextStore",function(i){var j=i.getTextFormatPresetID(h);if(j)Object.assign(g,{text_format_preset_id:j})});a("ifRequired")("ReactComposerPromptsStore",function(i){var j=i.getMemeCategoryID(h);if(j)Object.assign(g,{meme_category_id:j})})},_setupDataForCTAAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerCTAStore",function(j){Object.assign(h,{cta_data:j.getCTAData(i)})})},_setupDataForOnSaleAttachment:function f(g,h,i){if(g){a("ifRequired")("ReactComposerSellStore",function(j){Object.assign(h,{composer_attachment_sell_title:j.getTitleText(i),composer_attachment_sell_price:j.getPrice(i),composer_attachment_sell_price_type:j.getPriceType(i),composer_attachment_sell_currency:j.getCurrency(i),composer_attachment_sell_quantity:j.getQuantity(i),composer_attachment_sell_condition:j.getConditionID(i),composer_attachment_sell_category:j.getCategoryID(i),composer_attachment_sell_location_page_id:j.getLocationID(i),composer_attachment_sell_pickup_note:j.getPickupNoteText(i),post_to_marketplace:j.isNearbyLocationChecked(i),cross_post_checked:j.isCrossPostChecked(i),composer_attachment_sell_audience_target_ids:Array.from(j.getAudienceTargetIDs(i)).join(",")})});a("ifRequired")("ReactComposerAutosSellStore.react",function(j){Object.assign(h,{composer_attachment_sell_serialized_verticals_data:j.getSerializedVerticalData(i)})})}},_setupDataForGroupMeetupAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").GROUP_MEET_UP);if(i)Object.assign(g,a("ReactComposerPostDataUtils").getGroupMeetupData(h))},_setupDataForPageRecommendationAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PAGE_RECOMMENDATION);if(i)a("ifRequired")("ReactComposerPageRecommendationStore.react",function(j){Object.assign(g,{page_recommendation_ids:[j.getPageID(h)]})})},_setupDataForPremadePost:function f(g,h){var i=g.composerConfig.pagePremadePostData;if(i)Object.assign(h,{page_premade_post:i})},_setupDataForGIFAttachment:function f(g,h){if(g)Object.assign(h,{animated_image:g})},_setupDataForGroupLearningCourseAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerGroupLearningCourseStore",function(j){Object.assign(h,{module_name:j.getModuleName(i),target_id:j.getGroupID(i),xhpc_composerid:i,xhpc_targetid:j.getGroupID(i),xhpc_learning_course:true,xhpc_unit_id:j.getUnitID(i)})})},_setupDataForLearningCourse:function f(g,h,i){var j=a("ReactComposerAttachmentStore").getAttachment(i,a("ReactComposerAttachmentType").LEARNING_COURSE);if(g&&j){var k=new(a("URI"))(window.location.href).getQueryData().filter,l=e.getSelectedFileName(i);if(k)Object.assign(h,{xhpc_unit_id:k,xhpc_learning_course:true,module_name:l?l:"New file"})}},_setupDataForLearningLinkAttachment:function f(g,h,i,j){if(g)a("ifRequired")("ReactComposerLearningLinkStore",function(k){Object.assign(h,{module_name:k.getTitleText(i),learning_link_description:k.getDescription(i),learning_link_link:k.getLink(i),xhpc_composerid:i,xhpc_targetid:j,xhpc_learning_course:true,xhpc_learning_link:true,xhpc_unit_id:new(a("URI"))(window.location.href).getQueryData().filter,xhpc_message:k.getLink(i)})})},_postForRedEnvelope:function f(g){__p&&__p();var h=a("ReactComposerPostDataUtils").getPostData(g),i=g.composerID;a("ifRequired")("ReactComposerRedEnvelopeStore",function(l){Object.assign(h,{composer_attachment_message:a("ReactComposerStatusStore").getMessageText(i),message:a("ReactComposerStatusStore").getMessage(i),type:l.getType(i),theme:l.getTheme(i),total_amount:l.getTotalAmount(i),credential_id:l.getCredentialId(i),distribution:l.getDistribution(i),number_of_envelopes:l.getNumberOfEnvelopes(i)})});if(h.type==="v1")return a("XRedEnvelopeSaveController").getURIBuilder().setString("composer_attachment_message",h.composer_attachment_message).setString("distribution",h.distribution).setInt("total_amount",h.total_amount*100).setInt("number_of_envelopes",h.number_of_envelopes).setInt("xhpc_targetid",g.targetID).setString("xhpc_composerid",g.composerID).getURI();else{new(a("RedEnvelopeActionTypedLogger"))().setAction(a("RedEnvelopeActionType").CLICK_POST_BUTTON).log();var j=a("ReactComposerTaggerStore").getTaggerData(i,a("ReactComposerTaggerType").PEOPLE),k=j.map(function(l){return l.getUniqueID()});return a("XRedEnvelopeCreationController").getURIBuilder().setString("message",h.composer_attachment_message).setInt("amount",h.total_amount*100).setInt("credential_id",h.credential_id).setInt("photo_id",h.theme).setInt("target_id",g.targetID).setFBIDVector("tagged_ids",k).setString("xhpc_composerid",g.composerID).getURI()}},post:function f(g){__p&&__p();var h,i,j;!!g.actorID||b(0);!!g.composerConfig||b(0);!!g.composerConfig.contextInfo||b(0);!!g.composerID||b(0);!!g.targetID||b(0);var k=g.actorID,l=g.composerID,m=false,n=false,o=this._getIsOnMediaAttachment(l),ha=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QANDA),p=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FILE),q=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QUESTION),ia=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").RED_ENVELOPE),r=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SELL)||a("ifRequired")("ReactComposerSellStore",function(N){return N.getInterceptSell(l)},function(){return false}),s=false;a("ifRequired")("ReactComposerCTAAttachmentUtils",function(N){s=N.isCTAAttachmentSelected(l)});var t=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TASK),ja=a("ReactComposerSlideshowStore").isSlideshowSelected(l),ka=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PROFILE_PIC_FRAME),u=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QA),la=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FIND_PLAYERS),v=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_COURSE),ma=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),na=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SALES_PROMO),oa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),pa=g.composerConfig.attachmentsConfig||{},w=pa[a("ReactComposerAttachmentType").STATUS]||{},qa=a("ifRequired")("ReactComposerSellStore",function(N){return N.showURLIntercept(l)},function(){return false}),x=w.attemptIntercept&&w.sellIntercept&&!r&&!qa,y=a("ReactComposerPostDataUtils").getPostData(g);this._setupGenericDataFromStore(y,l);var z=a("ReactComposerVideoUploadStore").getVideo(l);if(o&&!!z){var A=a("ReactComposerVideoUploadStore").getUploader(l);A&&A.uploadFromFile(z.file,y);return}var ra=d?e.hasFile(l):e.isFileSelected(l),sa=a("ReactComposerTaggerStore").getTaggerData(l,a("ReactComposerTaggerType").GIF).gifData,B=void 0,C=a("ReactComposerMediaUploadStore").getUploads(l);this._setupDataForFormattedText(y,l);this._setupDataForOnSaleAttachment(r,y,l);this._setupDataForCTAAttachment(s,y,l);this._setupDataForPlaceListAttachment(y,l);this._setupDataForGroupMeetupAttachment(y,l);this._setupDataForPageRecommendationAttachment(y,l);this._setupDataForPremadePost(g,y);this._setupDataForGIFAttachment(sa,y);this._setupDataForLearningCourse(p,y,l);this._setupDataForGroupLearningCourseAttachment(v,y,l);this._setupDataForLearningLinkAttachment(oa,y,l,g.targetID);var ta=C.size>0,ua=o||ha||r||v||t,D=ja||ua&&ta,va=a("ifRequired")("PagesComposerBoostedPostsStore",function(N){return N.getConfig(l)},function(){return null});if(w.attemptMarkdownIntercept&&g.composerConfig.attachmentsConfig&&g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS])g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=y.is_markdown;var wa=y.blocks,E=w.attemptMarkdownIntercept&&!r&&!wa&&!y.is_markdown;a("ifRequired")("ReactComposerMarkdownStore",function(N){E=E&&!N.interceptAttempted(l)});if(!D&&E&&a("textProbablyWritingMarkdown")(a("ReactComposerStatusStore").getMessageText(l))){setTimeout(function(){return a("ReactComposerActions").postFinally(l,null)},0);a("ReactComposerMarkdownActions").showIntercept(l);return}var xa=a("ifRequired")("ReactComposerSellStore",function(N){return N.getPostDirectlyToMarketplace(l)},function(){return false}),F=null;if(q||u){var ya=a("ReactComposerStore").getRef(l);switch(ya){case a("ComposerEntryPointRef").GROUP:F="group";break;case a("ComposerEntryPointRef").EVENT:case a("ComposerEntryPointRef").EVENT_ABOUT:F="event";break;case a("ComposerEntryPointRef").PAGES_FEED:F="composer";break;default:F=ya}}var G=a("ifRequired")("PagesComposerUnpublishedPostsStore",function(N){return N.getScheduledPublishTime(g.composerID)},function(){return null});G=G?Math.round(G.getTime()/1e3):null;var H=void 0;if(t){B=a("XGroupTaskSaveController").getURIBuilder().getURI();a("ifRequired")("ReactComposerTaskStore",function(N){Object.assign(y,N.getTaskData(l));a("ifRequired")("GroupTaskLoggedAction",function(O){Object.assign(y,{action_to_be_logged:O.CREATE_TASK})})})}else if(D){H=a("ReactComposerPostDataUtils").getMediaUploadsData(l,C);Object.assign(y,H);if(x)B=a("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else if(E)B=a("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setBool("markdown_enabled",y.is_markdown).getURI();else if(xa)B=a("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{n=a("ComposerPublisher").getShouldUseGraphQLForMedia(k,y,g.composerID);B=new(a("URI"))("/media/upload/photos/composer/")}}else if(p&&ra){var za=d||typeof e.getDropboxFileID!=="function"?null:e.getDropboxFileID(l);B=new(a("URI"))(e.getURI(l));Object.assign(y,{transaction_id:za})}else if(q){B=new(a("URI"))("/ajax/questions/save.php");a("ifRequired")("ReactComposerQuestionStore",function(N){var O=N.getOptionStrings(l),P=N.getOptionImageIndices(l);Object.assign(y,{composerAttachmentQuestion:a("ReactComposerStatusStore").getMessage(l),question_options:O,question_option_image_indices:P,source:F,create_eigenpoll:N.canChooseMultiplePollOptions(l),anyone_add_options:N.canAnyoneAddPollOptions(l)})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(s&&y.attachment.params.allowMultiMedia)B=a("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",y.xhpc_message_text).setHackType("cta_data",y.cta_data).setFBID("video_id",y.attachment.params.videoID).setFBID("photo_id",y.attachment.params.photoID).setFBID("page_id",g.targetID).setString("boosted_post_config",va).setHackType("raw_data",y).setInt("schedule_time",G).setBool("use_premade_video",y.attachment.params.usingPremadePostVideo).getURI();else if(ia)B=this._postForRedEnvelope(g);else if(r)B=new(a("URI"))("/ajax/groups/sell/save.php");else if(ka){var Aa=void 0,I=void 0;a("ifRequired")("ReactComposerProfilePictureFrameStore",function(N){Aa=N.getSelectedOverlayID(l);I=N.getScheduledPostDate(l);H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,N.getCroppedPhotoForUpload(l))});var Ba=void 0,Ca=void 0,Da=void 0,Ea=false;if(I){Ba=a("formatDate")(I,"m/d/Y",{skipPatternLocalization:true});var Fa=I.getHours()*a("DateConsts").MIN_PER_HOUR+I.getMinutes();Ca=a("DateConsts").SEC_PER_MIN*Fa;Da=I.getTime()/1e3;Ea=true}B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:Ea,sticker_id:Aa,future_date:Ba,future_time:Ca,scheduled_publish_time:Da}))}else if(u){a("ifRequired")("ReactComposerGroupQAStore",function(N){B=new(a("URI"))("/group_qa/save/");Object.assign(y,{composer_question_title:N.getTitle(l),composer_question_description:N.getDescription(l),source:F})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(na){a("ifRequired")("ReactComposerSalesPromoStore",function(N){Object.assign(y,{availability_location:N.getAvailabilityLocation(l),description:N.getDescription(l),destination_uri:N.getDestinationURI(l),discount_code:N.getDiscountCode(l),expiration_time:N.getExpirationTime(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo,terms_and_conditions:N.getTermsAndConditions(l)})});B=a("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",y.availability_location).setString("description",y.description).setString("destination_uri",y.destination_uri).setString("discount_code",y.discount_code).setInt("expiration_time",y.expiration_time).setFBID("group_id",g.targetID).setFBID("owner_id",k).setFBIDVector("photo_ids",y.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",y.terms_and_conditions).getURI();Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(la)a("ifRequired")("ReactComposerFindPlayersStore",function(N){B=new(a("URI"))(a("XGamesFindPlayersSaveController").getURIBuilder().getURI());Object.assign(y,{composer_find_players_title:N.getTitle(l),composer_find_players_tags:N.getTags(l),composer_find_players_name:N.getName(l),composer_find_players_description:a("ReactComposerStatusStore").getMessage(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo})});else if(ma)(function(){__p&&__p();var N=void 0,O=true;a("ifRequired")("ReactComposerMediaEffectShareStore",function(P){__p&&__p();H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,P.getEffectPhotoForUpload(l));var Q=P.getComposerData(l).effectStatus;N=P.getEffectToApply(l);if(Q==="active")O=false;var R=P.getUploadedVideoID(l);if(R){Object.assign(y,{draft:O});P.postVideo(l,y);return}});B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:false,sticker_id:N,draft:O}))})();else if(y.attachment&&y.attachment.params.canvas_video)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.canvas_video.video_id).getURI();var N=G===null&&!y.draft;Object.assign(y,y.attachment.params.canvas_video);Object.assign(y,{description:y.xhpc_message,is_canvas_video:true,publish:N,scheduled_publish_time:G,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={content_id:y.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:false,scraped_url:y.attachment.params.url,target_id:g.targetID};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(y.attachment&&y.attachment.params.carousel_video_lpp)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.carousel_video_lpp.video_id).getURI();var N=G===null&&!y.draft;Object.assign(y,y.attachment.params.carousel_video_lpp);Object.assign(y,{description:y.xhpc_message,scheduled_publish_time:G,publish:N,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={child_attachments:y.attachment.params.child_attachments,event:"publish",target_id:g.targetID,content_id:y.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:y.attachment.params.url};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(x)B=a("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{m=a("ComposerPublisher").getShouldUseGraphQLForStatus(k,y);B=new(a("URI"))("/ajax/updatestatus.php")}var Ga=B,J=false;a("ifRequired")("ReactComposerVideoXEditDialogStore",function(N){__p&&__p();var O;J=N.hasSelectedCustomThumbnails(g.composerID);if(J)(function(){__p&&__p();var P=C.map(function($){return $.id}),Q=N.getThumbnailTypes(P.toArray(),g.composerID),R={};C.forEach(function($){return R[$.id]=$.photoID});var Ia={};for(var S=Q,Ja=Array.isArray(S),T=0,S=Ja?S:S[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var U;if(Ja){if(T>=S.length)break;U=S[T++]}else{T=S.next();if(T.done)break;U=T.value}var Ka=U,La=Ka[0],Ma=Ka[1];Ia[R[La]]=Ma}Object.assign(y,{thumb_types:Ia});var Na=N.getUploadsWithTextOnThumbnail(P.toArray(),g.composerID),V=[];for(var W=Na,Oa=Array.isArray(W),X=0,W=Oa?W:W[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var Y;if(Oa){if(X>=W.length)break;Y=W[X++]}else{X=W.next();if(X.done)break;Y=X.value}var Pa=Y;V=V.concat(R[Pa])}Object.assign(y,{videos_with_text_thumbnails:V});var Z=a("ReactComposerPostDataUtils").createFormData(y);N.getThumbnails(P.toArray(),g.composerID).then(function($){$.forEach(function(Qa){Z.append("thumb"+R[Qa[0]],Qa[1])});if(p&&e.hasFile(l)){var M=e.getFile(l);Z.append("file1",M)}var K=a("ActorURI").create(B,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setRawData(Z).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);L.send()}).done()})()});B===Ga||b(0);if(m||n){a("ComposerPublisher").publish(g,y);return}if(!J){var K=a("ActorURI").create(B,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setData(y).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);if(p&&e.hasFile(l)){var M=e.getFile(l),Ha=new FormData();Ha.append("file1",M);L.setRawData(Ha)}L.send()}}};ea.exports=ga}),null);
__d("WebAsyncPlusRegexSearchSource",["invariant","AbstractSearchSource"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("AbstractSearchSource"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this.$WebAsyncPlusRegexSearchSource1=l.asyncSource;this.$WebAsyncPlusRegexSearchSource2=l.regexSource;this.$WebAsyncPlusRegexSearchSource3=!!l.appendRegexEntries;this.$WebAsyncPlusRegexSearchSource4=!!l.preferRegexEntries;!!this.$WebAsyncPlusRegexSearchSource1||h(0);!!this.$WebAsyncPlusRegexSearchSource2||h(0)}k.prototype.bootstrapImpl=function(l){"use strict";this.$WebAsyncPlusRegexSearchSource1.bootstrap(l)};k.prototype.$WebAsyncPlusRegexSearchSource5=function(l,m){"use strict";__p&&__p();var n=[],o=false,p;for(var q=0;q<l.length;q++){p=l[q].getTitle();for(var r=0;r<m.length;r++)if(p===m[r].getTitle()){o=true;break}if(!o)n.push(l[q]);else o=false}return n};k.prototype.searchImpl=function(l,m,n){"use strict";__p&&__p();var o=this.$WebAsyncPlusRegexSearchSource1,p=this.$WebAsyncPlusRegexSearchSource3,q=this.$WebAsyncPlusRegexSearchSource4,r=this.$WebAsyncPlusRegexSearchSource5;this.$WebAsyncPlusRegexSearchSource2.search(l,function(s){__p&&__p();m(s,l);o.search(l,function(t){__p&&__p();var u=[],v=[];if(q){u=s;v=r(t,s)}else{v=t;u=r(s,t)}var w=p?v.concat(u):u.concat(v);m(w,l)},n)},n)};f.exports=k}),null);
__d("SphericalMediaGyroIcon.react",["fbt","ix","Image.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=h._("360 Photo");j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.isEnabled?i("95829"):i("95830");return c("React").createElement(c("Image.react"),{className:this.props.className,src:n,alt:l})};function m(){j.apply(this,arguments)}m.defaultProps={isEnabled:true};f.exports=m}),null);
__d("TypeaheadMetricCounter",[],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.reset()}h.prototype.reset=function(){"use strict";this.stats={};this.avgStats={}};h.prototype.recordStat=function(i,j){"use strict";this.stats[i]=j};h.prototype.recordCountStat=function(i){"use strict";var j=this.stats[i];this.stats[i]=j?j+1:1};h.prototype.recordAvgStat=function(i,j){"use strict";if(this.avgStats[i]){this.avgStats[i][0]+=j;this.avgStats[i][1]+=1}else this.avgStats[i]=[j,1]};h.prototype.hasStats=function(){"use strict";return!!Object.keys(this.stats).length};h.prototype.getStats=function(){"use strict";var i=babelHelpers["extends"]({},this.stats);for(var j in this.avgStats){var k=this.avgStats[j];i[j]=k[0]/k[1]}return i};f.exports=h}),null);
__d("QueriesHistory",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$QueriesHistory1=i;this.reset()}h.prototype.getQueries=function(){"use strict";return this.$QueriesHistory2};h.prototype.getCurrentLength=function(){"use strict";return this.$QueriesHistory3};h.prototype.add=function(i){"use strict";this.$QueriesHistory2.push(i);this.$QueriesHistory3+=i.length;while(this.$QueriesHistory2.length!==0&&this.$QueriesHistory3>this.$QueriesHistory1){var j=this.$QueriesHistory2.shift();this.$QueriesHistory3-=j.length}};h.prototype.reset=function(){"use strict";this.$QueriesHistory3=0;this.$QueriesHistory2=[]};f.exports=h}),null);
__d("TypeaheadMetricReporter",["AsyncRequest","QueriesHistory","TypeaheadMetricCounter","mixInEventEmitter"],(function a(b,c,d,e,f,g){__p&&__p();var h="/ajax/typeahead/record_basic_metrics.php",i=1e3;function j(k){"use strict";__p&&__p();this.counter=new(c("TypeaheadMetricCounter"))();this.extraData=Object.assign({},k);this.bootstrapped=false;this.bootstrapBegin=Date.now();this.queriesHistory=new(c("QueriesHistory"))(i);this.lastQuery=null;this.sessionActive=false;this.lastNotBackspacedQuery="";this.lastRequestID=null;this.requestIDHistory=[];this.$TypeaheadMetricReporter1()}j.prototype.getSID=function(){"use strict";return this.sid};j.prototype.sessionStart=function(){"use strict";this.sessionActive=true;this.sessionStartTime=Date.now()};j.prototype.sessionEnd=function(){"use strict";if(this.sessionActive){this.$TypeaheadMetricReporter2();this.$TypeaheadMetricReporter1();this.sessionActive=false}};j.prototype.setAdditionalStats=function(k){"use strict";if(k)Object.entries(k).forEach(function(l){var m=l[0],n=l[1];this.counter.recordStat(m,n)}.bind(this))};j.prototype.sessionPause=function(k){"use strict";if(this.sessionActive){this.setAdditionalStats(k);this.$TypeaheadMetricReporter2();this.sessionActive=false}};j.prototype.sessionDeactivate=function(){"use strict";this.sessionActive=false};j.prototype.reportSelect=function(k,l,m,n,o,p){"use strict";o=o==null?this.lastQuery:o;this.counter.recordStat("selected_id",k||"SELECT_NULL");this.counter.recordStat("selected_type",l);this.counter.recordStat("selected_position",m);this.counter.recordStat("selected_with_mouse",n?1:0);this.counter.recordStat("selected_query",o);for(var q in p)this.counter.recordStat(q,p[q])};j.prototype.reportStrategyName=function(k){"use strict";this.counter.recordStat("strategy_name",k)};j.prototype.reportBootstrapBegin=function(){"use strict";this.bootstrapBegin=Date.now()};j.prototype.reportBootstrapDirty=function(){"use strict";this.bootstrapped=false};j.prototype.reportBootstrapComplete=function(k){"use strict";this.counter.recordAvgStat("bootstrap_latency",Date.now()-this.bootstrapBegin);var l={};k.forEach(function(m){l[m]=(l[m]||0)+1});this.counter.recordStat("bootstrap_response_types",l);this.bootstrapped=true};j.prototype.reportQueryBegin=function(k){"use strict";this.counter.recordStat("query",k);this.counter.recordCountStat("num_queries");this.queriesHistory.add(k);if(this.lastNotBackspacedQuery.indexOf(k)!==0)this.lastNotBackspacedQuery=k;this.lastQuery=k;this.lastQueryTime=Date.now()};j.prototype.reportRequestID=function(k){"use strict";this.lastRequestID=k;this.requestIDHistory.push(k)};j.prototype.reportQueryComplete=function(k,l){"use strict";this.counter.recordAvgStat("avg_query_latency",k);if(l!==undefined)this.counter.recordStat("filtered_count",l)};j.prototype.reportResults=function(k,l){"use strict";this.results=k;if(l===this.lastQuery)this.counter.recordStat("last_query_latency",Date.now()-this.lastQueryTime)};j.prototype.reportResultsAds=function(k){"use strict";this.resultsAds=k};j.prototype.$TypeaheadMetricReporter1=function(){"use strict";__p&&__p();this.sid=Math.floor(Date.now()*Math.random());this.lastNotBackspacedQuery="";this.queriesHistory.reset();this.results=null;this.resultsAds=null;this.lastRequestID=null;this.requestIDHistory=[];this.counter.reset();this.emit&&this.emit("reset",{sid:this.sid})};j.prototype.$TypeaheadMetricReporter3=function(){"use strict";var k={};for(var l in this.extraData){var m=this.extraData[l];k[l]=typeof m==="function"?m():m}return k};j.prototype.$TypeaheadMetricReporter2=function(){"use strict";__p&&__p();if(this.counter.hasStats()){this.counter.recordStat("session_time",Date.now()-this.sessionStartTime);if(this.results)this.counter.recordStat("candidate_results",JSON.stringify(this.results));if(this.resultsAds)this.counter.recordStat("candidate_results_ads",JSON.stringify(this.resultsAds));if(this.sid)this.counter.recordStat("sid",this.sid);if(this.lastNotBackspacedQuery)this.counter.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.counter.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));if(this.bootstrapped)this.counter.recordStat("bootstrapped",1);if(this.lastRequestID)this.counter.recordStat("request_id",this.lastRequestID);if(this.requestIDHistory.length)this.counter.recordStat("request_ids",this.requestIDHistory);var k=babelHelpers["extends"]({},this.counter.getStats(),this.$TypeaheadMetricReporter3());new(c("AsyncRequest"))().setURI(h).setMethod("POST").setData({stats:k}).send();this.emit&&this.emit("submitted",k)}};c("mixInEventEmitter")(j,{reset:true,submitted:true});f.exports=j}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page",INFLUENCER_PAGE:"influencer_page"})}),null);
__d("CommerceSelfServeNUXType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_SHIPPING_OPTIONS_PUX:"add_shipping_options_pux",ADMIN_PAYMENTS_NAV_ITEM_NUX:"admin_payments_nav_item_nux",COLLECTION_SHARE_UPSELL:"collection_share_upsell",COMMERCE_INTRO_LANDING_NUX:"commerce_intro_landing_nux",COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON:"composer_product_photo_tagger_button",COMPOSER_PRODUCT_TAGGER_BUTTON:"composer_product_tagger_button",DISCOUNT_CODES_UPSELL:"discount_codes_upsell",FIRST_ORDER_BANNER:"first_order_banner",FIRST_ORDER_MODAL:"first_order_modal",INVOICE_PAYMENTS_CONFIRM_PUX:"invoice_payments_confirm_pux",INVOICE_PAYMENTS_CREATION_PUX:"invoice_payments_creation_pux",INVOICE_PAYMENTS_INVOICE_CREATION_BUTTON:"invoice_payments_invoice_creation_button",INVOICE_PAYMENTS_PAGE_LANDING_UPSELL:"invoice_payments_page_landing_upsell",PHOTO_VIEWER_PRODUCT_TAGGER_BUTTON:"photo_viewer_product_tagger_button",PRODUCT_ATTACHMENT_COMPOSER:"product_attachment_composer_nux",SHOP_NOW_CTA:"shop_now_cta",SHOP_TAB_IN_PUBLISHING_TOOLS:"shop_tab_pt_self_serve_nux",SHOP_TAB_ON_PAGE:"shop_tab_page_self_serve_nux",VIDEO_COMPOSER_PRODUCT_TAGGER_BUTTON:"video_composer_product_tagger_button",VIDEO_EDITOR_PRODUCT_TAGGER_BUTTON:"video_editor_product_tagger_button",VIDEO_COMPOSER_MESSENGER_PROMPT_BUTTON:"video_composer_messenger_prompt_button",PHOTO_COMPOSER_MESSENGER_PROMPT_BUTTON:"photo_composer_messenger_prompt_button",PRODUCT_TAG_PAGE_LANDING_UPSELL:"product_tag_page_landing_upsell"})}),null);
__d("ModalPhotoEditorTabName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM_ACCESSIBILITY_CAPTION:"custom_accessibility_caption",CROP:"crop",FILTERS:"filters",FRAMES:"frames",PRODUCT_TAG:"product_tag",STICKERS:"stickers",TAG:"tag",TEXT:"text"})}),null);
__d("PhotoEditorTargetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer",PROFILE_PIC:"profile_pic"})}),null);
/**
 * License: https://www.facebook.com/legal/license/hRBZIisFI6j/
 */
__d("exif-js-2.3.0",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={exports:h},j;function k(){__p&&__p();(function(){__p&&__p();var o=false,p=this,q=function(N){if(N instanceof q)return N;if(!(this instanceof q))return new q(N);this.EXIFwrapped=N};if(typeof h!=="undefined"){if(typeof i!=="undefined"&&i.exports)h=i.exports=q;h.EXIF=q}else p.EXIF=q;var r=q.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=q.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},t=q.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=q.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},v=q.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function w(N){return!!N.exifdata}function x(N,O){O=O||N.match(/^data\:([^\;]+)\;base64,/im)[1]||"";N=N.replace(/^data\:([^\;]+)\;base64,/gim,"");var P=atob(N),Q=P.length,R=new ArrayBuffer(Q),S=new Uint8Array(R);for(var T=0;T<Q;T++)S[T]=P.charCodeAt(T);return R}function y(N,O){var P=new XMLHttpRequest();P.open("GET",N,true);P.responseType="blob";P.onload=function(Q){if(this.status==200||this.status===0)O(this.response)};P.send()}function z(N,O){__p&&__p();function P(T){__p&&__p();var U=A(T);N.exifdata=U||{};var V=B(T);N.iptcdata=V||{};if(q.isXmpEnabled){var W=K(T);N.xmpdata=W||{}}if(O)O.call(N)}if(N.src)if(/^data\:/i.test(N.src)){var Q=x(N.src);P(Q)}else if(/^blob\:/i.test(N.src)){var R=new FileReader();R.onload=function(T){P(T.target.result)};y(N.src,function(T){R.readAsArrayBuffer(T)})}else{var S=new XMLHttpRequest();S.onload=function(){if(this.status==200||this.status===0)P(S.response);else throw"Could not load image";S=null};S.open("GET",N.src,true);S.responseType="arraybuffer";S.send(null)}else if(self.FileReader&&(N instanceof self.Blob||N instanceof self.File)){var R=new FileReader();R.onload=function(T){if(o)false;P(T.target.result)};R.readAsArrayBuffer(N)}}function A(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R;while(P<Q){if(O.getUint8(P)!=255){if(o)false;return false}R=O.getUint8(P+1);if(o)false;if(R==225){if(o)false;return J(O,P+4,O.getUint16(P+2)-2)}else P+=2+O.getUint16(P+2)}}function B(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=function(O,P){return O.getUint8(P)===56&&O.getUint8(P+1)===66&&O.getUint8(P+2)===73&&O.getUint8(P+3)===77&&O.getUint8(P+4)===4&&O.getUint8(P+5)===4};while(P<Q){if(R(O,P)){var S=O.getUint8(P+7);if(S%2!==0)S+=1;if(S===0)S=4;var T=P+8+S,U=O.getUint16(P+6+S);return D(N,T,U);break}P++}}var C={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function D(N,O,P){__p&&__p();var Q=new DataView(N),R={},S,T,U,V,W=O;while(W<O+P){if(Q.getUint8(W)===28&&Q.getUint8(W+1)===2){V=Q.getUint8(W+2);if(V in C){U=Q.getInt16(W+3);T=C[V];S=I(Q,W+5,U);if(R.hasOwnProperty(T))if(R[T]instanceof Array)R[T].push(S);else R[T]=[R[T],S];else R[T]=S}}W++}return R}function E(N,O,P,Q,R){var S=N.getUint16(P,!R),T={},U,V,W;for(W=0;W<S;W++){U=P+W*12+2;V=Q[N.getUint16(U,!R)];if(!V&&o)false;T[V]=F(N,U,O,P,R)}return T}function F(N,O,P,Q,R){__p&&__p();var S=N.getUint16(O+2,!R),T=N.getUint32(O+4,!R),U=N.getUint32(O+8,!R)+P,V,W,X,Y,Z,$;switch(S){case 1:case 7:if(T==1)return N.getUint8(O+8,!R);else{V=T>4?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint8(V+Y);return W}case 2:V=T>4?U:O+8;return I(N,V,T-1);case 3:if(T==1)return N.getUint16(O+8,!R);else{V=T>2?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint16(V+2*Y,!R);return W}case 4:if(T==1)return N.getUint32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint32(U+4*Y,!R);return W}case 5:if(T==1){Z=N.getUint32(U,!R);$=N.getUint32(U+4,!R);X=new Number(Z/$);X.numerator=Z;X.denominator=$;return X}else{W=[];for(Y=0;Y<T;Y++){Z=N.getUint32(U+8*Y,!R);$=N.getUint32(U+4+8*Y,!R);W[Y]=new Number(Z/$);W[Y].numerator=Z;W[Y].denominator=$}return W}case 9:if(T==1)return N.getInt32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+4*Y,!R);return W}case 10:if(T==1)return N.getInt32(U,!R)/N.getInt32(U+4,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+8*Y,!R)/N.getInt32(U+4+8*Y,!R);return W}}}function G(N,O,P){var Q=N.getUint16(O,!P);return N.getUint32(O+2+Q*12,!P)}function H(N,O,P,Q){__p&&__p();var R=G(N,O+P,Q);if(!R)return{};else if(R>N.byteLength)return{};var S=E(N,O,O+R,u,Q);if(S.Compression)switch(S.Compression){case 6:if(S.JpegIFOffset&&S.JpegIFByteCount){var T=O+S.JpegIFOffset,U=S.JpegIFByteCount;S.blob=new Blob([new Uint8Array(N.buffer,T,U)],{type:"image/jpeg"})}break;case 1:break;default:}else S.PhotometricInterpretation==2;return S}function I(N,O,P){var Q="";for(var R=O;R<O+P;R++)Q+=String.fromCharCode(N.getUint8(R));return Q}function J(N,O){__p&&__p();if(I(N,O,4)!="Exif"){if(o)false;return false}var P,Q,R,S,T,U=O+6;if(N.getUint16(U)==18761)P=false;else if(N.getUint16(U)==19789)P=true;else{if(o)false;return false}if(N.getUint16(U+2,!P)!=42){if(o)false;return false}var V=N.getUint32(U+4,!P);if(V<8){if(o)false;return false}Q=E(N,U,U+V,s,P);if(Q.ExifIFDPointer){S=E(N,U,U+Q.ExifIFDPointer,r,P);for(R in S){switch(R){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":S[R]=v[R][S[R]];break;case"ExifVersion":case"FlashpixVersion":S[R]=String.fromCharCode(S[R][0],S[R][1],S[R][2],S[R][3]);break;case"ComponentsConfiguration":S[R]=v.Components[S[R][0]]+v.Components[S[R][1]]+v.Components[S[R][2]]+v.Components[S[R][3]];break}Q[R]=S[R]}}if(Q.GPSInfoIFDPointer){T=E(N,U,U+Q.GPSInfoIFDPointer,t,P);for(R in T){switch(R){case"GPSVersionID":T[R]=T[R][0]+"."+T[R][1]+"."+T[R][2]+"."+T[R][3];break}Q[R]=T[R]}}Q.thumbnail=H(N,U,V,P);return Q}function K(N){__p&&__p();if(!("DOMParser"in self))return;var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=new DOMParser();while(P<Q-4)if(I(O,P,4)=="http"){var S=P-1,T=O.getUint16(P-2)-1,U=I(O,S,T),V=U.indexOf("xmpmeta>")+8;U=U.substring(U.indexOf("<x:xmpmeta"),V);var W=U.indexOf("x:xmpmeta")+10;U=U.slice(0,W)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+U.slice(W);var X=R.parseFromString(U,"text/xml");return M(X)}else P++}function L(N){__p&&__p();var O={};if(N.nodeType==1){if(N.attributes.length>0){O["@attributes"]={};for(var P=0;P<N.attributes.length;P++){var Q=N.attributes.item(P);O["@attributes"][Q.nodeName]=Q.nodeValue}}}else if(N.nodeType==3)return N.nodeValue;if(N.hasChildNodes())for(var R=0;R<N.childNodes.length;R++){var S=N.childNodes.item(R),T=S.nodeName;if(O[T]==null)O[T]=L(S);else{if(O[T].push==null){var U=O[T];O[T]=[];O[T].push(U)}O[T].push(L(S))}}return O}function M(N){__p&&__p();try{var O={};if(N.children.length>0)for(var P=0;P<N.children.length;P++){var Q=N.children.item(P),R=Q.attributes;for(var S in R){var T=R[S],U=T.nodeName,V=T.nodeValue;if(U!==undefined)O[U]=V}var W=Q.nodeName;if(typeof O[W]=="undefined")O[W]=L(Q);else{if(typeof O[W].push=="undefined"){var X=O[W];O[W]=[];O[W].push(X)}O[W].push(L(Q))}}else O=N.textContent;return O}catch(Y){}}q.enableXmp=function(){q.isXmpEnabled=true};q.disableXmp=function(){q.isXmpEnabled=false};q.getData=function(N,O){if((self.Image&&N instanceof self.Image||self.HTMLImageElement&&N instanceof self.HTMLImageElement)&&!N.complete)return false;if(!w(N))z(N,O);else if(O)O.call(N);return true};q.getTag=function(N,O){if(!w(N))return;return N.exifdata[O]};q.getIptcTag=function(N,O){if(!w(N))return;return N.iptcdata[O]};q.getAllTags=function(N){if(!w(N))return{};var O,P=N.exifdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.getAllIptcTags=function(N){if(!w(N))return{};var O,P=N.iptcdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.pretty=function(N){__p&&__p();if(!w(N))return"";var O,P=N.exifdata,Q="";for(O in P)if(P.hasOwnProperty(O))if(typeof P[O]=="object")if(P[O]instanceof Number)Q+=O+" : "+P[O]+" ["+P[O].numerator+"/"+P[O].denominator+"]\r\n";else Q+=O+" : ["+P[O].length+" values]\r\n";else Q+=O+" : "+P[O]+"\r\n";return Q};q.readFromBinaryFile=function(N){return A(N)};if(typeof j==="function"&&j.amd)j("exif-js",[],function(){return q})}).call(this)}var l=false,m=function(){if(!l){l=true;k()}return i.exports},n=function(o){switch(o){case undefined:return m()}};f.exports=n}),null);
__d("exif-js",["exif-js-2.3.0"],(function a(b,c,d,e,f,g){f.exports=c("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function a(b,c,d,e,f,g){__p&&__p();c("exif-js").enableXmp();function h(j){__p&&__p();var k=function k(l){return j.charCodeAt(l)&255};this.getByteAt=k;this.getShortAt=function(l,m){var n=this.getSShortAt(l,m);return n>0?n:n+65536};this.getSShortAt=function(l,m){var n=k(l),o=k(l+1);return m?(n<<8)+o:(o<<8)+n};this.getLongAt=function(l,m){var n=this.getSLongAt(l,m);return n>0?n:n+4294967296};this.getSLongAt=function(l,m){var n=k(l),o=k(l+1),p=k(l+2),q=k(l+3);return m?(((n<<8)+o<<8)+p<<8)+q:(((q<<8)+p<<8)+o<<8)+n};this.getStringAt=function(l,m){return j.substr(l,m)};this.getLength=function(){return j.length}}var i={readFromFile:function j(k,l){var m=new FileReader();m.addEventListener("load",function(event){var n=event.target.result,o=n instanceof ArrayBuffer?this.readFromArrayBuffer(n):this.readFromBinaryString(n);l(o)}.bind(this),false);if(window.DataView)m.readAsArrayBuffer(k);else m.readAsBinaryString(k)},readFromBinaryString:function j(k){return c("exif-js").readFromBinaryFile(new h(k))},readFromArrayBuffer:function j(k){return c("exif-js").readFromBinaryFile(k)}};f.exports=i}),null);
__d("StringEncoding",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o,p){__p&&__p();var q=new Uint8Array(o),r=0,s=[];while(r<q.length){var t=q[r],u=void 0;if(t>>7===0)u=1;else if(t>>5===6){t&=31;u=2}else if(t>>4===14){t&=15;u=3}else if(t>>3===30){t&=7;u=4}else if(t>>2===62){t&=3;u=5}else if(t>>1===126){t&=1;u=6}else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(r+u>q.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var v=1;v<u;v++){var w=q[r+v];if(w>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");w&=63;t<<=6;t|=w}if(t>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!t)switch(p){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(t);r+=u}return String.fromCodePoint.apply(String,s)}function i(o){return(o&255)<<8|o>>8}function j(o,p){__p&&__p();if(o.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");var q=new Uint16Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==65534){++r;t=true}while(r<q.length){var u=q[r];if(t)u=i(u);var v=u;if(u>55295&&u<57344){if((u&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(r+1>=q.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++r;var w=q[r];if(t)w=i(w);if((w&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");v=((u&1023)<<10|w&1023)+65536}if(!v)switch(p){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(v);++r}return String.fromCodePoint.apply(String,s)}function k(o){return(o&255)<<24|(o&255<<8)<<8|(o&255<<16)>>8|o>>>24}function l(o,p){__p&&__p();if(o.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");var q=new Uint32Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==4294836224){++r;t=true}while(r<q.length){var u=q[r];if(t)u=k(u);if(u&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(u>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!u)switch(p){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(u);++r}return String.fromCodePoint.apply(String,s)}var m={"utf-8":h,"utf-16":j,"utf-32":l};function n(o,p){__p&&__p();if(o)this.$Decoder1=o;else this.$Decoder1=["utf-8","utf-16","utf-32"];if(!p)p="error";this.$Decoder2=p;for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;this.$Decoder3(u)}}n.prototype.getPrecedence=function(){return this.$Decoder1};n.prototype.decode=function(o){__p&&__p();var p=[];for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=this.$Decoder3(u);try{return v(o,this.$Decoder2)}catch(w){p.push(w)}}throw new Error(p.join(", "))};n.prototype.$Decoder3=function(o){var p=m[o];if(!p)throw new Error("Unknown encoding "+o);return p};f.exports.Decoder=n}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){this.$ImageMetadata4="";this.$ImageMetadata6=m;this.$ImageMetadata7=new Uint8Array(m);this.$ImageMetadata8()}h.prototype.$ImageMetadata8=function(){__p&&__p();var m=0;while(m<this.$ImageMetadata7.length){m=this.$ImageMetadata9(m);if(m===-1)return;var n=this.$ImageMetadata7[m+1],o=i[n];if(!o)return;var p=o.length;if(p===undefined)p=this.$ImageMetadata7[m+2]*256+this.$ImageMetadata7[m+3];this.$ImageMetadata10(m,p,o);if(o.name==="SOS")return;m+=2+p}};h.prototype.$ImageMetadata10=function(m,n,o){__p&&__p();switch(o.name){case"APP1":if(this.$ImageMetadata11(m+4,j)){if(!this.$ImageMetadata1){this.$ImageMetadata1=m;this.$ImageMetadata2=n}this.$ImageMetadata12(m+4+j.length,n-2-j.length)}else if(this.$ImageMetadata11(m+4,k)){this.$ImageMetadata1=m;this.$ImageMetadata2=n;this.$ImageMetadata13(m+4+k.length,n-2-k.length)}else if(this.$ImageMetadata11(m+4,l))this.$ImageMetadata14(m+4+l.length,n-2-l.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$ImageMetadata15(m+4,n-2);break}};h.prototype.$ImageMetadata15=function(m,n){var o=this.$ImageMetadata7[m+3]*256+this.$ImageMetadata7[m+4],p=this.$ImageMetadata7[m+1]*256+this.$ImageMetadata7[m+2];if(o>0&&p>0)this.$ImageMetadata5={x:o,y:p}};h.prototype.$ImageMetadata12=function(m,n){__p&&__p();var o=emptyFunction;try{emptyFunction=c("emptyFunction");var p=c("ImageExif").readFromArrayBuffer(this.$ImageMetadata6)||{}}finally{emptyFunction=o}var q={};for(var r in p){var s=p[r];if(typeof s==="string")s=s.trim();q[r.trim()]=s}this.$ImageMetadata3=q};h.prototype.$ImageMetadata13=function(m,n){var o=new(c("StringEncoding").Decoder)(null,"truncate");try{var p=o.decode(this.$ImageMetadata6.slice(m,m+n));this.$ImageMetadata4=p}catch(q){return}};h.prototype.$ImageMetadata14=function(m){};h.prototype.$ImageMetadata11=function(m,n){return n.split("").every(function(o){return this.$ImageMetadata7[m++]===o.charCodeAt(0)}.bind(this))};h.prototype.$ImageMetadata9=function(m){for(var n=m;n+1<this.$ImageMetadata7.length;++n)if(this.$ImageMetadata7[n]===255&&this.$ImageMetadata7[n+1]!==0&&this.$ImageMetadata7[n+1]!==255)return n;return-1};h.prototype.hasAPP1=function(){return Boolean(this.$ImageMetadata1)};h.prototype.hasExif=function(){return Boolean(this.$ImageMetadata3)};h.prototype.hasXMP=function(){return Boolean(this.$ImageMetadata4)};h.prototype.hasSize=function(){return Boolean(this.$ImageMetadata5)};h.prototype.getAPP1Location=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata1};h.prototype.getAPP1Length=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata2};h.prototype.getExif=function(){if(!this.$ImageMetadata3)throw new Error("Image has no Exif data");return this.$ImageMetadata3};h.prototype.getXMPString=function(){return this.$ImageMetadata4};h.prototype.getSize=function(){if(!this.$ImageMetadata5)throw new Error("Could not find size data?!");return this.$ImageMetadata5};h.genMetadataFromBlob=function m(n){return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.t0=h;p.next=3;return c("regeneratorRuntime").awrap(h.$ImageMetadata16(n));case 3:p.t1=p.sent;return p.abrupt("return",new p.t0(p.t1));case 5:case"end":return p.stop()}},null,this)};h.$ImageMetadata16=function(m){return new(c("Promise"))(function(n,o){var p=new b.FileReader();p.onabort=o;p.onerror=o;p.onload=n;p.readAsArrayBuffer(m)})};var i=[];i[216]={name:"SOI",length:0};i[192]={name:"SOF0"};i[193]={name:"SOF1"};i[194]={name:"SOF2"};i[195]={name:"SOF3"};i[197]={name:"SOF5"};i[198]={name:"SOF6"};i[199]={name:"SOF7"};i[200]={name:"JPG"};i[201]={name:"SOF9"};i[202]={name:"SOF10"};i[203]={name:"SOF11"};i[205]={name:"SOF13"};i[206]={name:"SOF14"};i[207]={name:"SOF15"};i[196]={name:"DHT"};i[219]={name:"DQT"};i[221]={name:"DRI",length:2};i[218]={name:"SOS"};i[208]={name:"RST0",length:0};i[209]={name:"RST1",length:0};i[210]={name:"RST2",length:0};i[211]={name:"RST3",length:0};i[212]={name:"RST4",length:0};i[213]={name:"RST5",length:0};i[214]={name:"RST6",length:0};i[215]={name:"RST7",length:0};i[224]={name:"APP0"};i[225]={name:"APP1"};i[226]={name:"APP2"};i[227]={name:"APP3"};i[228]={name:"APP4"};i[229]={name:"APP5"};i[230]={name:"APP6"};i[231]={name:"APP7"};i[232]={name:"APP8"};i[233]={name:"APP9"};i[234]={name:"APP10"};i[235]={name:"APP11"};i[236]={name:"APP12"};i[237]={name:"APP13"};i[238]={name:"APP14"};i[239]={name:"APP15"};i[254]={name:"COM"};i[217]={name:"EOI",length:0};var j="Exif\0\0",k="http://ns.adobe.com/xap/1.0/\0",l="http://ns.adobe.com/xmp/extension/\0";f.exports=h}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2048,i={genArrayBufferFromBlob:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){if(b.FileReader){var n=new b.FileReader();n.onabort=m;n.onerror=m;n.onload=function(event){l(event.target.result)};n.readAsArrayBuffer(k)}else m(new Error("global.FileReader doesn't exit"))})},shouldCheckInServer:function j(k){__p&&__p();if(!k.hasExif()&&!k.hasXMP()||!k.hasSize())return false;var l=k.getXMPString();if(this.getMayContainSphericalMetadata(l))return true;var m=k.getSize(),n=m.x,o=m.y;if(Math.max(n,o)<h||n/o<2&&o/n<2)return false;var p=k.hasExif()?k.getExif():{};if(l===""&&(!p.Make||!p.Model))return false;return true},genPhotoSphereMetadata:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();this.genArrayBufferFromBlob(k).done(function(n){__p&&__p();var o,p=this;try{(function(){var r=new(c("ImageMetadata"))(n);if(p.shouldCheckInServer(r))p.genPhotoSphereMetadataFromServer(r.hasSize()?r.getSize():{x:0,y:0},r.getXMPString(),r.hasExif()?r.getExif():{}).done(function(s){var t=s.payload;l({photoSphereMetadata:t,imageMetadata:r})},m);else l({})})()}catch(q){q.__manual=true;m(q)}}.bind(this),m)}.bind(this))},genPhotoSphereMetadataFromServer:function j(k,l,m){return new(c("Promise"))(function(n,o){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:this.getExifString(m),height:k.y,width:k.x,xmp:l}).setHandler(n).setErrorHandler(o).send()}.bind(this))},getExifString:function j(k){return JSON.stringify(k,function(l,m){if(l==="FocalLength"&&m.numerator&&m.denominator)return m.numerator+"/"+m.denominator;return m})},getMayContainSphericalMetadata:function j(k){return k!==""&&k.indexOf("GPano:")>-1}};f.exports=i}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="ProjectionType";function i(j){this.props=j}i.createFromBlob=function j(k){var l;return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotoSphereMetadata(k));case 2:l=n.sent;return n.abrupt("return",new this(l));case 4:case"end":return n.stop()}},null,this)};i.prototype.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};i.prototype.getImageMetadata=function(){return this.props.imageMetadata};i.prototype.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};i.prototype.getSize=function(){if(this.props.imageMetadata)return this.props.imageMetadata.getSize();return null};i.prototype.getProjectionType=function(){var j="";if(this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h])j=this.props.photoSphereMetadata[h];return j};f.exports=i}),null);
__d("XCommerceSelfServeMerchantNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/self-serve/merchant/mark-nux-seen/",{page_id:{type:"Int",required:true},nux_type:{type:"Enum",required:true,enumType:1},event:{type:"Enum",defaultValue:"Actn_NuxSeen",enumType:1}})}),null);
__d("XStickerPhotoEditorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photos/editor/sticker_editor/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1},encrypted_photo_id:{type:"String"},enable_text:{type:"Bool",defaultValue:true},enable_stickers:{type:"Bool",defaultValue:true},enable_tagging:{type:"Bool",defaultValue:true},enable_square_crop_mode:{type:"Bool",defaultValue:true},aspect_ratio:{type:"Float"}})}),null);