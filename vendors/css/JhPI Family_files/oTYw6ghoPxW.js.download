if (self.CavalryLogger) { CavalryLogger.start_js(["paey4"]); }

__d("AlbumScroller",["DOM","OnVisible","Style"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict"}h.prototype.init=function(i,j){"use strict";__p&&__p();this.photoGroups={};this.scrollListener={};if(i.length){var k=i.shift(),l=k,m=0,n=k.id;while(l){if(!this.photoGroups[n])this.photoGroups[n]=[];var o=c("DOM").scry(l,"a.uiScrollableThumb");if(o.length>0)this.photoGroups[n].push(o[0]);l=this.getNextPhotoCell(l);if(++m%j==0){this.scrollListener[n]=new(c("OnVisible"))(k,this.showPage.bind(this,k));k=i.shift();if(k)n=k.id}}if(k)this.scrollListener[n]=new(c("OnVisible"))(k,this.showPage.bind(this,k))}};h.prototype.showPage=function(i){"use strict";var j=this.photoGroups[i.id];if(j)for(var k=0,l=j.length;k<l;k++){var m=j[k].getAttribute("data-src"),n=c("DOM").scry(j[k],"i")[0];m&&n&&c("Style").set(n,"backgroundImage","url("+m+")")}};h.prototype.getNextPhotoCell=function(i){"use strict";var j=null;if(i.nextSibling)j=i.nextSibling;else if(i.parentNode.nextSibling)j=i.parentNode.nextSibling.firstChild;if(j&&j.childElementCount!==0)return j;return null};f.exports=h}),null);
__d("legacy:album-scroller-js",["AlbumScroller"],(function a(b,c,d,e,f,g){b.AlbumScroller=c("AlbumScroller")}),3);